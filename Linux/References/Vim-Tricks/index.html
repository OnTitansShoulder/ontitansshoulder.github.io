<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We are all standing on the shoulders of the giants..."><meta name=author content="Zhongkai Liu"><link rel="shortcut icon" href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.6"><title>Vim Tricks - Ontitansshoulder</title><link rel=stylesheet href=../../../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#use-vivim class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title=Ontitansshoulder class="md-header-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Ontitansshoulder </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Vim Tricks </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class="md-tabs__link md-tabs__link--active"> Notes </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Ontitansshoulder class="md-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Ontitansshoulder </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1 checked> <label class=md-nav__link for=nav-1> Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Notes data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Foundamental/Data_Structures_and_Algos/ class=md-nav__link> Data Structures and Algos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3 checked> <label class=md-nav__link for=nav-1-3> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-1 type=checkbox id=nav-1-3-1> <label class=md-nav__link for=nav-1-3-1> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=3> <label class=md-nav__title for=nav-1-3-1> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Concepts/Linux_Foundation/ class=md-nav__link> Linux Foundation </a> </li> <li class=md-nav__item> <a href=../../Concepts/Linux_Foundation_System_Admin/ class=md-nav__link> Linux System Administration </a> </li> <li class=md-nav__item> <a href=../../Concepts/Linux_Foundation_Network_Admin/ class=md-nav__link> Linux Network Administration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-2 type=checkbox id=nav-1-3-2> <label class=md-nav__link for=nav-1-3-2> Practical References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Practical References" data-md-level=3> <label class=md-nav__title for=nav-1-3-2> <span class="md-nav__icon md-icon"></span> Practical References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Commands/Freq-Used-Shell-Cmds/ class=md-nav__link> Freq Used Shell Cmds </a> </li> <li class=md-nav__item> <a href=../../Commands/Networking-Shell-Cmds/ class=md-nav__link> Freq Used Network Cmds </a> </li> <li class=md-nav__item> <a href=../../Commands/Text-Manipulating-Cmds/ class=md-nav__link> Text Manipulating Cmds </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-3 type=checkbox id=nav-1-3-3 checked> <label class=md-nav__link for=nav-1-3-3> Tricks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tricks data-md-level=3> <label class=md-nav__title for=nav-1-3-3> <span class="md-nav__icon md-icon"></span> Tricks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Freq-Tasks/ class=md-nav__link> Freq Linux Tasks </a> </li> <li class=md-nav__item> <a href=../Terminal-Tricks/ class=md-nav__link> Linux Terminal Tricks </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Vim Tricks <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Vim Tricks </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#use-vivim class=md-nav__link> use vi/vim </a> </li> <li class=md-nav__item> <a href=#moving-cursors class=md-nav__link> Moving cursors </a> </li> <li class=md-nav__item> <a href=#search-and-replace class=md-nav__link> Search and Replace </a> </li> <li class=md-nav__item> <a href=#delete-copy-and-paste class=md-nav__link> Delete, Copy, and Paste </a> </li> <li class=md-nav__item> <a href=#switch-modes class=md-nav__link> switch modes </a> </li> <li class=md-nav__item> <a href=#save-quit-and-line_numbers class=md-nav__link> Save, quit, and line_numbers </a> </li> <li class=md-nav__item> <a href=#vim-features class=md-nav__link> vim features </a> </li> <li class=md-nav__item> <a href=#visual-block class=md-nav__link> Visual Block </a> </li> <li class=md-nav__item> <a href=#registers class=md-nav__link> Registers </a> </li> <li class=md-nav__item> <a href=#marks class=md-nav__link> Marks </a> </li> <li class=md-nav__item> <a href=#multi-window-editing class=md-nav__link> Multi-window editing </a> </li> <li class=md-nav__item> <a href=#multi-file-editing class=md-nav__link> Multi-file editing </a> </li> <li class=md-nav__item> <a href=#multi-tab-editing class=md-nav__link> Multi-tab editing </a> </li> <li class=md-nav__item> <a href=#vim-env-config-setting class=md-nav__link> Vim env config setting </a> </li> <li class=md-nav__item> <a href=#when-non-english-character-become-mess class=md-nav__link> When non-English Character become mess </a> </li> <li class=md-nav__item> <a href=#dos-and-linux-linebreak class=md-nav__link> DOS and Linux linebreak </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Account-Administration/ class=md-nav__link> Manage Accounts & Groups </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Cloud <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cloud data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Architecture/Cloud-App-Architecture/ class=md-nav__link> Cloud App Architecture </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Docker/Docker/ class=md-nav__link> Docker and Containers </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Docker/Docker-Practical/ class=md-nav__link> Docker Practical </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/k8s/K8s-Knowledge/ class=md-nav__link> K8s Knowledge </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/k8s/service_mesh/ class=md-nav__link> Service Mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5 type=checkbox id=nav-1-5> <label class=md-nav__link for=nav-1-5> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Monitoring data-md-level=2> <label class=md-nav__title for=nav-1-5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5-1 type=checkbox id=nav-1-5-1> <label class=md-nav__link for=nav-1-5-1> Splunk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Splunk data-md-level=3> <label class=md-nav__title for=nav-1-5-1> <span class="md-nav__icon md-icon"></span> Splunk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Dev-Tools-Reference/Splunk/Splunk-References/ class=md-nav__link> Splunk Knowledge </a> </li> <li class=md-nav__item> <a href=../../../Dev-Tools-Reference/Splunk/Splunk-Dashboarding/ class=md-nav__link> Splunk Dashboarding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6 type=checkbox id=nav-1-6> <label class=md-nav__link for=nav-1-6> Programming Langs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Programming Langs" data-md-level=2> <label class=md-nav__title for=nav-1-6> <span class="md-nav__icon md-icon"></span> Programming Langs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-1 type=checkbox id=nav-1-6-1> <label class=md-nav__link for=nav-1-6-1> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Golang data-md-level=3> <label class=md-nav__title for=nav-1-6-1> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Golang-Specs/ class=md-nav__link> Golang Language Reference </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Best-Practices/ class=md-nav__link> Effective Go </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Freq-Used-Libs/ class=md-nav__link> Go libraries and examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-2 type=checkbox id=nav-1-6-2> <label class=md-nav__link for=nav-1-6-2> Java <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Java data-md-level=3> <label class=md-nav__title for=nav-1-6-2> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Style-Guide/ class=md-nav__link> Style Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Best-Practices/ class=md-nav__link> Effective Java </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Design-Patterns/ class=md-nav__link> Java Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Testing-Design-Patterns/ class=md-nav__link> Testing Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Java_Std_Lib_Cheatsheet/ class=md-nav__link> Java Std Lib Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-3 type=checkbox id=nav-1-6-3> <label class=md-nav__link for=nav-1-6-3> C++ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=C++ data-md-level=3> <label class=md-nav__title for=nav-1-6-3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/CPP/CPlusPlus_Lang_Specs/ class=md-nav__link> C++ Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-4 type=checkbox id=nav-1-6-4> <label class=md-nav__link for=nav-1-6-4> Perl <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Perl data-md-level=3> <label class=md-nav__title for=nav-1-6-4> <span class="md-nav__icon md-icon"></span> Perl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Perl/Perl-Lang-Specs/ class=md-nav__link> Perl Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-5 type=checkbox id=nav-1-6-5> <label class=md-nav__link for=nav-1-6-5> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Shell data-md-level=3> <label class=md-nav__title for=nav-1-6-5> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Shell/Shell-Scripting/ class=md-nav__link> Shell Scripting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Github-Markdown/ class=md-nav__link> Github Markdown Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Regex-Specs/ class=md-nav__link> Regex Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-7 type=checkbox id=nav-1-7> <label class=md-nav__link for=nav-1-7> Reading Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Reading Notes" data-md-level=2> <label class=md-nav__title for=nav-1-7> <span class="md-nav__icon md-icon"></span> Reading Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Reading-Notes/How-Netflix-Works/ class=md-nav__link> How Netflix Works </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/System-Design-Concepts/ class=md-nav__link> System Design Guide </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Why-Latency-Matters/ class=md-nav__link> Why Latency Matters </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/DevOps_SRE/ class=md-nav__link> Intro to DevOps and SRE </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Leading-without-formal-authority/ class=md-nav__link> Leading Without Formal Authority </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Google-SRE-Book/ class=md-nav__link> Google SRE Book </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Good-Reads/ class=md-nav__link> Good Reads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#use-vivim class=md-nav__link> use vi/vim </a> </li> <li class=md-nav__item> <a href=#moving-cursors class=md-nav__link> Moving cursors </a> </li> <li class=md-nav__item> <a href=#search-and-replace class=md-nav__link> Search and Replace </a> </li> <li class=md-nav__item> <a href=#delete-copy-and-paste class=md-nav__link> Delete, Copy, and Paste </a> </li> <li class=md-nav__item> <a href=#switch-modes class=md-nav__link> switch modes </a> </li> <li class=md-nav__item> <a href=#save-quit-and-line_numbers class=md-nav__link> Save, quit, and line_numbers </a> </li> <li class=md-nav__item> <a href=#vim-features class=md-nav__link> vim features </a> </li> <li class=md-nav__item> <a href=#visual-block class=md-nav__link> Visual Block </a> </li> <li class=md-nav__item> <a href=#registers class=md-nav__link> Registers </a> </li> <li class=md-nav__item> <a href=#marks class=md-nav__link> Marks </a> </li> <li class=md-nav__item> <a href=#multi-window-editing class=md-nav__link> Multi-window editing </a> </li> <li class=md-nav__item> <a href=#multi-file-editing class=md-nav__link> Multi-file editing </a> </li> <li class=md-nav__item> <a href=#multi-tab-editing class=md-nav__link> Multi-tab editing </a> </li> <li class=md-nav__item> <a href=#vim-env-config-setting class=md-nav__link> Vim env config setting </a> </li> <li class=md-nav__item> <a href=#when-non-english-character-become-mess class=md-nav__link> When non-English Character become mess </a> </li> <li class=md-nav__item> <a href=#dos-and-linux-linebreak class=md-nav__link> DOS and Linux linebreak </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Vim Tricks</h1> <p>All Unix-like system have <em>vi</em>, but not necessarily other editors <em>vim</em> is an advanced version of vi, which supports syntax highlighting and helping software development.</p> <p><code>vimtutor</code> launches a short but comprehensive tutorial for new learners.</p> <h3 id=use-vivim>use vi/vim<a class=headerlink href=#use-vivim title="Permanent link">&para;</a></h3> <p><em>vi</em> has three modes:</p> <ul> <li><em>standard mode</em>, used when opening a file with vi, can use commands to move cursor, delete, copy, paste, and search and replace.</li> <li><em>insert mode</em>, entered after pressing <code>i, I, o, O, a, A, r, R</code> during standard mode</li> <li><em>command line mode</em>, entered after pressing <code>:, /, ?</code>, where you can search, read/write, or any other actions can be taken.</li> </ul> <p><br></p> <h3 id=moving-cursors>Moving cursors<a class=headerlink href=#moving-cursors title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>h</code> / <code>left-arrow</code></td> <td>move left</td> </tr> <tr> <td><code>j</code> / <code>down-arrow</code></td> <td>move down</td> </tr> <tr> <td><code>k</code> / <code>up-arrow</code></td> <td>move up</td> </tr> <tr> <td><code>l</code> / <code>right-arrow</code></td> <td>move right</td> </tr> <tr> <td><code>w</code></td> <td><strong>jump forwards to the start of a word</strong></td> </tr> <tr> <td><code>e</code></td> <td>jump forwards to the end of a word</td> </tr> <tr> <td><code>b</code></td> <td><strong>jump backwards to the start of a word</strong></td> </tr> <tr> <td><code>numb N</code> + <code>hjkl</code></td> <td><strong>move N times in that direction</strong></td> </tr> <tr> <td><code>ctrl</code> + <code>f</code></td> <td><strong>page down</strong></td> </tr> <tr> <td><code>ctrl</code> + <code>b</code></td> <td><strong>page up</strong></td> </tr> <tr> <td><code>ctrl</code> + <code>d</code></td> <td><strong>half page down</strong></td> </tr> <tr> <td><code>ctrl</code> + <code>u</code></td> <td><strong>half page up</strong></td> </tr> <tr> <td><code>+</code></td> <td>move cursor to next non empty line</td> </tr> <tr> <td><code>-</code></td> <td>move cursor to previous non empty line</td> </tr> <tr> <td><code>numb N</code> + <code>[space]</code></td> <td>move cursor right N times</td> </tr> <tr> <td><code>0</code> / <code>[Home]</code></td> <td><strong>move to the first char of this line</strong></td> </tr> <tr> <td><code>^</code></td> <td><strong>move to the first non-blank char of this line</strong></td> </tr> <tr> <td><code>$</code> / <code>[End]</code></td> <td><strong>move to last char of this line</strong></td> </tr> <tr> <td><code>H</code></td> <td><strong>move to the first line first character of current view-port</strong></td> </tr> <tr> <td><code>M</code></td> <td><strong>move to the middle line first character of current view-port</strong></td> </tr> <tr> <td><code>L</code></td> <td><strong>move to the last line first character of current view-port</strong></td> </tr> <tr> <td><code>G</code></td> <td><strong>move to the last line of this file</strong></td> </tr> <tr> <td><code>nG</code></td> <td><strong>move to the nth line of this file</strong></td> </tr> <tr> <td><code>gg</code></td> <td><strong>move to the first line of this file</strong></td> </tr> <tr> <td><code>zz</code></td> <td>center cursor on screen</td> </tr> <tr> <td><code>numb N</code> + <code>[enter]</code></td> <td>move cursor down for N lines</td> </tr> </tbody> </table> <p><br></p> <h3 id=search-and-replace>Search and Replace<a class=headerlink href=#search-and-replace title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>/word</code></td> <td><strong>move down and search for 'word'</strong></td> </tr> <tr> <td><code>?word</code></td> <td><strong>move up and search for 'word'</strong></td> </tr> <tr> <td><code>\vword end with period.</code></td> <td><strong>non-alphanumeric chars are interpreted as special regex symbols, no escaping needed</strong></td> </tr> <tr> <td><code>n</code></td> <td><strong>repeat last search action</strong></td> </tr> <tr> <td><code>N</code></td> <td><strong>repeat last action in reversed searching direction</strong></td> </tr> <tr> <td><code>:n1,n2s/word1/word2/g</code></td> <td>find and replace! search for word1 between line n1 and n2 and replace them with word2</td> </tr> <tr> <td><code>:1,$s/word1/word2/g</code></td> <td><strong>find and replace from begin to the end of this file</strong></td> </tr> <tr> <td><code>:1,$s/word1/word2/gc</code></td> <td><strong>find and replace from begin to the end, and asking for confirmation for each match</strong></td> </tr> </tbody> </table> <p><br></p> <h3 id=delete-copy-and-paste>Delete, Copy, and Paste<a class=headerlink href=#delete-copy-and-paste title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>x, X</code></td> <td>x delete a char from right of cursor like [del], X delete one from left like [Backspace]</td> </tr> <tr> <td><code>nx</code></td> <td>delete n chars from right</td> </tr> <tr> <td><code>dd</code></td> <td><strong>delete current line</strong></td> </tr> <tr> <td><code>ndd</code></td> <td><strong>delete n lines after cursor</strong></td> </tr> <tr> <td><code>d1G</code></td> <td>delete all lines from cursor to the beginning of the file</td> </tr> <tr> <td><code>dG</code></td> <td>delete all lines from cursor to the end of the file</td> </tr> <tr> <td><code>d$</code></td> <td><strong>delete all chars from cursor to end of the line</strong></td> </tr> <tr> <td><code>d0</code></td> <td><strong>delete all chars from cursor to start of the line</strong></td> </tr> <tr> <td><code>D</code></td> <td><strong>delete all chars for the rest of current line</strong></td> </tr> <tr> <td><code>yy</code></td> <td><strong>copy the line at the cursor</strong></td> </tr> <tr> <td><code>nyy</code></td> <td><strong>copy n lines after cursor</strong></td> </tr> <tr> <td><code>y1G</code></td> <td>copy all lines from cursor to the beginning of the file</td> </tr> <tr> <td><code>yG</code></td> <td>copy all lines from cursor to the end of the file</td> </tr> <tr> <td><code>y0</code></td> <td>copy all chars from cursor to start of the line</td> </tr> <tr> <td><code>y$</code></td> <td>copy all chars from cursor to end of the line</td> </tr> <tr> <td><code>p, P</code></td> <td><strong>p pastes on next line after cursor, P pastes on line before cursor</strong></td> </tr> <tr> <td><code>J</code></td> <td>merge cursor line with next line</td> </tr> <tr> <td><code>u</code></td> <td><strong>undo previous action</strong></td> </tr> <tr> <td><code>ctrl-r</code></td> <td><strong>redo previous action</strong></td> </tr> <tr> <td><code>.</code></td> <td><strong>repeat last action</strong></td> </tr> <tr> <td><code>r &lt;file&gt;</code></td> <td>read in file and insert at current position</td> </tr> </tbody> </table> <p><br></p> <h3 id=switch-modes>switch modes<a class=headerlink href=#switch-modes title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>i, I</code></td> <td><strong>enter insert mode from current cursor</strong></td> </tr> <tr> <td><code>a, A</code></td> <td>enter insert mode, a is from next position of cursor, A is from last position of current line</td> </tr> <tr> <td><code>o, O</code></td> <td><strong>enter insert mode, o is insert a new line after cursor, O is insert a new line before cursor</strong></td> </tr> <tr> <td><code>r, R</code></td> <td>enter replace mode, r is replacing cursor char once, R is to keep replacing cursor char until ESC pressed</td> </tr> <tr> <td><code>Esc</code></td> <td>leave current mode</td> </tr> <tr> <td><code>sh command</code></td> <td><strong>opens an external command shell</strong> and resume after exiting the shell</td> </tr> <tr> <td><code>! command %</code></td> <td><strong>execute a command</strong> from within vi; <code>%</code> means the current file</td> </tr> </tbody> </table> <p><br></p> <h3 id=save-quit-and-line_numbers>Save, quit, and line_numbers<a class=headerlink href=#save-quit-and-line_numbers title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:w</code></td> <td><strong>write into filesystem</strong></td> </tr> <tr> <td><code>:w !sudo tee %</code></td> <td><strong>save changes to a file that forgot using <code>sudo vim</code></strong></td> </tr> <tr> <td><code>:q</code></td> <td><strong>quit the editor</strong></td> </tr> <tr> <td><code>:q!</code></td> <td><strong>quit without saving</strong></td> </tr> <tr> <td><code>ZZ</code></td> <td>quit and ensure any edits saved</td> </tr> <tr> <td><code>:w [filename]</code></td> <td><strong>save as another file</strong></td> </tr> <tr> <td><code>:r [filename]</code></td> <td><strong>read in contents from another file</strong></td> </tr> <tr> <td><code>:n1,n2 w [filename]</code></td> <td>save lines between n1 and n2 as another file</td> </tr> <tr> <td><code>:! [command]</code></td> <td>temporarily leave vi and see shell command results</td> </tr> <tr> <td><code>:set nu</code> / <code>:set number</code></td> <td><strong>display line numbers</strong></td> </tr> <tr> <td><code>:set nonu</code></td> <td><strong>cancel displaying line numbers</strong></td> </tr> </tbody> </table> <p><br></p> <h3 id=vim-features>vim features<a class=headerlink href=#vim-features title="Permanent link">&para;</a></h3> <h3 id=visual-block>Visual Block<a class=headerlink href=#visual-block title="Permanent link">&para;</a></h3> <p>Allows us to select things spanning lines Great feature to have, even some modern IDE doesn't have this!</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>v</code></td> <td><strong>select single chars where cursor passes</strong></td> </tr> <tr> <td><code>V</code></td> <td><strong>select lines where cursor passes</strong></td> </tr> <tr> <td><code>ctrl-v</code></td> <td><strong>select rectangular blocks where cursor passes</strong></td> </tr> <tr> <td><code>o</code></td> <td>move to the other end of marked area</td> </tr> <tr> <td><code>O</code></td> <td>move to the other corner of block</td> </tr> <tr> <td><code>ab</code></td> <td><strong>select the entire block within () where the cursor is</strong></td> </tr> <tr> <td><code>aB</code></td> <td><strong>select the entire block within {} where the cursor is</strong></td> </tr> <tr> <td><code>ib</code></td> <td>select the contents of a block within () where the cursor is</td> </tr> <tr> <td><code>iB</code></td> <td>select the contents of a block within {} where the cursor is</td> </tr> <tr> <td><code>&gt;</code></td> <td><strong>add a tab indent to selected block</strong></td> </tr> <tr> <td><code>&lt;</code></td> <td><strong>remove a tab indent to selected block</strong></td> </tr> <tr> <td><code>~</code></td> <td>switch case for selected block</td> </tr> <tr> <td><code>y</code></td> <td><strong>copy selected area</strong></td> </tr> <tr> <td><code>d</code></td> <td><strong>delete selected area</strong></td> </tr> <tr> <td><strong>Tip</strong></td> <td>for multiple indenting, add a <code>numb N</code> before pressing <code>&gt;</code> or <code>&lt;</code></td> </tr> <tr> <td><strong>Tip</strong></td> <td>under block mode while selecting multiple lines, repeat edits to all the lines by pressing <code>I</code> first, make the edits, then press <code>Esc</code></td> </tr> </tbody> </table> <p><br></p> <h3 id=registers>Registers<a class=headerlink href=#registers title="Permanent link">&para;</a></h3> <p>Registers allows copying</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:reg</code></td> <td><strong>show registers content</strong></td> </tr> <tr> <td><code>:*</code></td> <td>contains contents on clipboard</td> </tr> <tr> <td><code>:%</code></td> <td>contains current filename</td> </tr> <tr> <td><code>"xy</code></td> <td><strong>yank into register 'x' (x could be a digit or a letter)</strong></td> </tr> <tr> <td><code>"xp</code></td> <td><strong>paste contents of register 'x'</strong></td> </tr> <tr> <td><code>"xNp</code></td> <td><strong>paste contents of register 'x' for N times</strong></td> </tr> <tr> <td><strong>Tip</strong></td> <td>registers are stored in ~/.viminfo</td> </tr> <tr> <td></td> <td>saved registers will be loaded again at next start of vim</td> </tr> <tr> <td><strong>Tip</strong></td> <td>Register-0 always contains the value of last yank command</td> </tr> </tbody> </table> <p><br></p> <h3 id=marks>Marks<a class=headerlink href=#marks title="Permanent link">&para;</a></h3> <p>Marks allows quickly jump to a saved position in a large file.</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:marks</code></td> <td>list of saved marks</td> </tr> <tr> <td><code>ma</code></td> <td>set current position for mark 'a'</td> </tr> <tr> <td><code>`a</code></td> <td>jump to position of mark 'a'</td> </tr> <tr> <td><code>y`a</code></td> <td>yank text to position of mark 'a'</td> </tr> </tbody> </table> <p><br></p> <h3 id=multi-window-editing>Multi-window editing<a class=headerlink href=#multi-window-editing title="Permanent link">&para;</a></h3> <p>This mode allow you to see files side-by-side, very useful!</p> <p>You can even have three windows at the same time!</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:sp</code></td> <td><strong>open a split window for the same file on the bottom side of this window</strong></td> </tr> <tr> <td><code>:vsp</code></td> <td><strong>open a split window for the same file on the left side of this window</strong></td> </tr> <tr> <td><code>:sp [filename]</code></td> <td><strong>open a split window for a new file on the bottom side of this window</strong></td> </tr> <tr> <td><code>:vsp [filename]</code></td> <td><strong>open a split window for a new file on the left side of this window</strong></td> </tr> <tr> <td><code>ctrl-w, then hjkl OR narrows</code></td> <td><strong>move to the window in the direction</strong></td> </tr> <tr> <td><code>ctrl-w, then w</code></td> <td><strong>switch windows</strong></td> </tr> <tr> <td><code>ctrl-w, then q</code></td> <td><strong>quit current window split</strong></td> </tr> <tr> <td><code>:q</code></td> <td>can quit one of the window as well, like above</td> </tr> </tbody> </table> <p><br></p> <h3 id=multi-file-editing>Multi-file editing<a class=headerlink href=#multi-file-editing title="Permanent link">&para;</a></h3> <p>Need to open more than one files on startup of vim command, like this <code>vim hosts /etc/hosts</code></p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:e</code></td> <td>edit a file in a new buffer (while attempt to close current buffer)</td> </tr> <tr> <td><code>:n</code></td> <td><strong>edit next file</strong></td> </tr> <tr> <td><code>:N</code></td> <td>edit previous file</td> </tr> <tr> <td><code>:bnext, :bn</code></td> <td>go to next buffer</td> </tr> <tr> <td><code>:bprev, :bp</code></td> <td>go to previous buffer</td> </tr> <tr> <td><code>:bd</code></td> <td>delete a buffer (close a file)</td> </tr> <tr> <td><code>:ls</code></td> <td><strong>list all open buffers</strong></td> </tr> <tr> <td><code>:files</code></td> <td><strong>show files opened</strong></td> </tr> </tbody> </table> <p><br></p> <h3 id=multi-tab-editing>Multi-tab editing<a class=headerlink href=#multi-tab-editing title="Permanent link">&para;</a></h3> <p>Probably not quite useful today, but still offers a way to organize your workspace within the same terminal using vim.</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:tabnew [filename]</code></td> <td><strong>open a file in a new tab</strong></td> </tr> <tr> <td><code>ctrl-w, then T</code></td> <td><strong>move current split window to its own tab</strong></td> </tr> <tr> <td><code>gt, :tabnext, :tabn</code></td> <td><strong>move to next tab</strong></td> </tr> <tr> <td><code>gT, :tabprev, :tabp</code></td> <td><strong>move to previous tab</strong></td> </tr> <tr> <td><code>Ngt</code></td> <td>move to tab N</td> </tr> <tr> <td><code>:tabmove N</code></td> <td>move current tab to Nth position (starting from 0)</td> </tr> <tr> <td><code>:tabclose, :tabc</code></td> <td><strong>close current tab and all its windows</strong></td> </tr> <tr> <td><code>:tabdo command</code></td> <td>run command on all tabs</td> </tr> </tbody> </table> <p><br></p> <h3 id=vim-env-config-setting>Vim env config setting<a class=headerlink href=#vim-env-config-setting title="Permanent link">&para;</a></h3> <p>your behavior is automatically recorded by vim, and saved at ~/.viminfo</p> <table> <thead> <tr> <th>Key Pressing -</th> <th>- Function</th> </tr> </thead> <tbody> <tr> <td><code>:set nu/nonu</code></td> <td><strong>set or cancel line number</strong></td> </tr> <tr> <td><code>:set hlsearch/nohlsearch</code></td> <td>high light search or not to</td> </tr> <tr> <td><code>:set autoindent/noautoindent</code></td> <td>autoindent or not to</td> </tr> <tr> <td><code>:set backup/nobackup</code></td> <td><strong>auto file backup or not (backed up will be [filename]~)</strong></td> </tr> <tr> <td><code>:set ruler/noruler</code></td> <td>ruler shows the portion of current viewing portion in the file</td> </tr> <tr> <td><code>:set showmode/noshowmode</code></td> <td>whether to show --INSERT-- mode etc.</td> </tr> <tr> <td><code>:set backspace=(0/1/2)</code></td> <td>0 or 1 means can't backspace; 2 means can backspace anything</td> </tr> <tr> <td><code>:set all</code></td> <td>show all current config parameters</td> </tr> <tr> <td><code>:set</code></td> <td>show values different from default values</td> </tr> <tr> <td><code>:syntax on/off</code></td> <td><strong>whether to turn on/off syntax highlighting</strong></td> </tr> <tr> <td><code>:set bg=dark/light</code></td> <td><strong>show color differently</strong></td> </tr> </tbody> </table> <p>Above preferences doesn't save unless you have a <code>~/.vimrc</code> file. Write a file like this:</p> <div class=highlight><pre><span></span><code>set hlsearch
set backspace=2
set autoindent
set ruler
set showmode
set nu
set bg=dark
syntax on
</code></pre></div> <p><br></p> <h3 id=when-non-english-character-become-mess>When non-English Character become mess<a class=headerlink href=#when-non-english-character-become-mess title="Permanent link">&para;</a></h3> <p>Traditional Chinese characters can be encoded into big5 or utf8. If the file encode and the display decoder doesn't match, random chars can be shown. Things may be related:</p> <ol> <li>Linux system default supported language data: /etc/sysconfig/i18n</li> <li>bash: LANG var</li> <li>file's original encode</li> <li>software that opened the file</li> </ol> <p>Usually Windows XP files use big5 by default.</p> <p>Set terminal <code>LANG=zh_TW.big5</code></p> <p><br></p> <h3 id=dos-and-linux-linebreak>DOS and Linux linebreak<a class=headerlink href=#dos-and-linux-linebreak title="Permanent link">&para;</a></h3> <p>use <code>cat -A</code> can see linebreak char of a file.</p> <p>DOS file lines end with ^M, we call CR (^M) and LF($); Linux only have LF ($) as linebreak char.</p> <p>We can convert it using <em>dos2unix</em> or <em>unix2dos</em> commands!</p> <ul> <li><code>unix2dos [-kn] filename [newfile_name]</code></li> <li><code>-k</code>: keep file original mtime format (not update last modified time)</li> <li><code>-n</code>: keep old file, make a new file for the converted</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Terminal-Tricks/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Linux Terminal Tricks </div> </div> </a> <a href=../Account-Administration/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Manage Accounts & Groups </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.53cc9318.min.js></script> <script src=../../../assets/javascripts/bundle.e9c9f54f.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>