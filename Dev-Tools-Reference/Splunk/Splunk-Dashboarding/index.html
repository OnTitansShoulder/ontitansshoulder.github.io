<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We are all standing on the shoulders of the giants..."><meta name=author content="Zhongkai Liu"><link rel="shortcut icon" href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.6"><title>Splunk Dashboarding - Ontitansshoulder</title><link rel=stylesheet href=../../../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#making-a-plan class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title=Ontitansshoulder class="md-header-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Ontitansshoulder </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Splunk Dashboarding </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class="md-tabs__link md-tabs__link--active"> Notes </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Ontitansshoulder class="md-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Ontitansshoulder </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1 checked> <label class=md-nav__link for=nav-1> Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Notes data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Foundamental/Data_Structures_and_Algos/ class=md-nav__link> Data Structures and Algos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <label class=md-nav__link for=nav-1-3> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-1 type=checkbox id=nav-1-3-1> <label class=md-nav__link for=nav-1-3-1> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=3> <label class=md-nav__title for=nav-1-3-1> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation/ class=md-nav__link> Linux Foundation </a> </li> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation_System_Admin/ class=md-nav__link> Linux System Administration </a> </li> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation_Network_Admin/ class=md-nav__link> Linux Network Administration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-2 type=checkbox id=nav-1-3-2> <label class=md-nav__link for=nav-1-3-2> Practical References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Practical References" data-md-level=3> <label class=md-nav__title for=nav-1-3-2> <span class="md-nav__icon md-icon"></span> Practical References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Commands/Freq-Used-Shell-Cmds/ class=md-nav__link> Freq Used Shell Cmds </a> </li> <li class=md-nav__item> <a href=../../../Linux/Commands/Networking-Shell-Cmds/ class=md-nav__link> Freq Used Network Cmds </a> </li> <li class=md-nav__item> <a href=../../../Linux/Commands/Text-Manipulating-Cmds/ class=md-nav__link> Text Manipulating Cmds </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-3 type=checkbox id=nav-1-3-3> <label class=md-nav__link for=nav-1-3-3> Tricks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tricks data-md-level=3> <label class=md-nav__title for=nav-1-3-3> <span class="md-nav__icon md-icon"></span> Tricks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/References/Freq-Tasks/ class=md-nav__link> Freq Linux Tasks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Terminal-Tricks/ class=md-nav__link> Linux Terminal Tricks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Vim-Tricks/ class=md-nav__link> Vim Tricks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Account-Administration/ class=md-nav__link> Manage Accounts & Groups </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Cloud <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cloud data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Architecture/Cloud-App-Architecture/ class=md-nav__link> Cloud App Architecture </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Docker/Docker/ class=md-nav__link> Docker and Containers </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/Docker/Docker-Practical/ class=md-nav__link> Docker Practical </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/k8s/K8s-Knowledge/ class=md-nav__link> K8s Knowledge </a> </li> <li class=md-nav__item> <a href=../../../Cloud-and-Containers/k8s/service_mesh/ class=md-nav__link> Service Mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5 type=checkbox id=nav-1-5 checked> <label class=md-nav__link for=nav-1-5> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Monitoring data-md-level=2> <label class=md-nav__title for=nav-1-5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5-1 type=checkbox id=nav-1-5-1 checked> <label class=md-nav__link for=nav-1-5-1> Splunk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Splunk data-md-level=3> <label class=md-nav__title for=nav-1-5-1> <span class="md-nav__icon md-icon"></span> Splunk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Splunk-References/ class=md-nav__link> Splunk Knowledge </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Splunk Dashboarding <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Splunk Dashboarding </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#making-a-plan class=md-nav__link> Making a Plan </a> </li> <li class=md-nav__item> <a href=#html-dashboard class=md-nav__link> HTML Dashboard </a> </li> <li class=md-nav__item> <a href=#edit-dashboard-source-xml class=md-nav__link> Edit Dashboard Source XML </a> </li> <li class=md-nav__item> <a href=#add-custom-stylesheets-and-logic class=md-nav__link> Add custom stylesheets and logic </a> </li> <li class=md-nav__item> <a href=#dashboard-forms class=md-nav__link> Dashboard Forms </a> <nav class=md-nav aria-label="Dashboard Forms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tokens class=md-nav__link> Tokens </a> <nav class=md-nav aria-label=Tokens> <ul class=md-nav__list> <li class=md-nav__item> <a href=#time-input class=md-nav__link> Time Input </a> </li> <li class=md-nav__item> <a href=#text-input class=md-nav__link> Text Input </a> </li> <li class=md-nav__item> <a href=#dropdown-menu class=md-nav__link> Dropdown Menu </a> </li> <li class=md-nav__item> <a href=#multiselect-input class=md-nav__link> Multiselect Input </a> </li> <li class=md-nav__item> <a href=#cascading-input class=md-nav__link> Cascading Input </a> </li> <li class=md-nav__item> <a href=#event-handler class=md-nav__link> Event Handler </a> </li> <li class=md-nav__item> <a href=#token-filters class=md-nav__link> Token filters </a> </li> <li class=md-nav__item> <a href=#global-environment-tokens class=md-nav__link> Global environment tokens </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#customizing-dashboards class=md-nav__link> Customizing Dashboards </a> <nav class=md-nav aria-label="Customizing Dashboards"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#table-formatting class=md-nav__link> Table Formatting </a> </li> <li class=md-nav__item> <a href=#trellis class=md-nav__link> Trellis </a> </li> <li class=md-nav__item> <a href=#event-annotation class=md-nav__link> Event Annotation </a> </li> <li class=md-nav__item> <a href=#hiding-panel-links class=md-nav__link> Hiding panel links </a> </li> <li class=md-nav__item> <a href=#drilldowns class=md-nav__link> Drilldowns </a> </li> <li class=md-nav__item> <a href=#conditional-interactions class=md-nav__link> Conditional Interactions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-behaviors class=md-nav__link> Advanced Behaviors </a> <nav class=md-nav aria-label="Advanced Behaviors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#event-actions class=md-nav__link> Event Actions </a> </li> <li class=md-nav__item> <a href=#search-event-handlers class=md-nav__link> Search Event handlers </a> </li> <li class=md-nav__item> <a href=#visualization-event-handlers class=md-nav__link> Visualization Event Handlers </a> </li> <li class=md-nav__item> <a href=#form-input-event-handlers class=md-nav__link> Form Input Event Handlers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#custom-visualizations class=md-nav__link> Custom Visualizations </a> </li> <li class=md-nav__item> <a href=#simple-xml-extensions class=md-nav__link> Simple XML extensions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#optimizing-and-best-practices class=md-nav__link> Optimizing and Best Practices </a> <nav class=md-nav aria-label="Optimizing and Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#power-a-panel-using-report class=md-nav__link> Power a Panel using Report </a> </li> <li class=md-nav__item> <a href=#prevent-panels-refresh-when-inactive class=md-nav__link> Prevent panels refresh when inactive </a> </li> <li class=md-nav__item> <a href=#load-custom-javascript class=md-nav__link> Load custom JavaScript </a> </li> <li class=md-nav__item> <a href=#showhide-a-panel class=md-nav__link> Show/Hide a panel </a> </li> <li class=md-nav__item> <a href=#complete-charting-properties class=md-nav__link> Complete charting properties </a> </li> <li class=md-nav__item> <a href=#sparkline class=md-nav__link> sparkline </a> </li> <li class=md-nav__item> <a href=#panels-best-practices class=md-nav__link> Panels Best Practices </a> </li> <li class=md-nav__item> <a href=#use-a-base-search class=md-nav__link> Use a Base Search </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6 type=checkbox id=nav-1-6> <label class=md-nav__link for=nav-1-6> Programming Langs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Programming Langs" data-md-level=2> <label class=md-nav__title for=nav-1-6> <span class="md-nav__icon md-icon"></span> Programming Langs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-1 type=checkbox id=nav-1-6-1> <label class=md-nav__link for=nav-1-6-1> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Golang data-md-level=3> <label class=md-nav__title for=nav-1-6-1> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Golang-Specs/ class=md-nav__link> Golang Language Reference </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Best-Practices/ class=md-nav__link> Effective Go </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Freq-Used-Libs/ class=md-nav__link> Go libraries and examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-2 type=checkbox id=nav-1-6-2> <label class=md-nav__link for=nav-1-6-2> Java <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Java data-md-level=3> <label class=md-nav__title for=nav-1-6-2> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Style-Guide/ class=md-nav__link> Style Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Best-Practices/ class=md-nav__link> Effective Java </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Design-Patterns/ class=md-nav__link> Java Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Testing-Design-Patterns/ class=md-nav__link> Testing Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Java_Std_Lib_Cheatsheet/ class=md-nav__link> Java Std Lib Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-3 type=checkbox id=nav-1-6-3> <label class=md-nav__link for=nav-1-6-3> C++ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=C++ data-md-level=3> <label class=md-nav__title for=nav-1-6-3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/CPP/CPlusPlus_Lang_Specs/ class=md-nav__link> C++ Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-4 type=checkbox id=nav-1-6-4> <label class=md-nav__link for=nav-1-6-4> Perl <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Perl data-md-level=3> <label class=md-nav__title for=nav-1-6-4> <span class="md-nav__icon md-icon"></span> Perl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Perl/Perl-Lang-Specs/ class=md-nav__link> Perl Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-5 type=checkbox id=nav-1-6-5> <label class=md-nav__link for=nav-1-6-5> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Shell data-md-level=3> <label class=md-nav__title for=nav-1-6-5> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Shell/Shell-Scripting/ class=md-nav__link> Shell Scripting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Github-Markdown/ class=md-nav__link> Github Markdown Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Regex-Specs/ class=md-nav__link> Regex Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-7 type=checkbox id=nav-1-7> <label class=md-nav__link for=nav-1-7> Reading Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Reading Notes" data-md-level=2> <label class=md-nav__title for=nav-1-7> <span class="md-nav__icon md-icon"></span> Reading Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Reading-Notes/How-Netflix-Works/ class=md-nav__link> How Netflix Works </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/System-Design-Concepts/ class=md-nav__link> System Design Guide </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Why-Latency-Matters/ class=md-nav__link> Why Latency Matters </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/DevOps_SRE/ class=md-nav__link> Intro to DevOps and SRE </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Leading-without-formal-authority/ class=md-nav__link> Leading Without Formal Authority </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Google-SRE-Book/ class=md-nav__link> Google SRE Book </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Good-Reads/ class=md-nav__link> Good Reads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#making-a-plan class=md-nav__link> Making a Plan </a> </li> <li class=md-nav__item> <a href=#html-dashboard class=md-nav__link> HTML Dashboard </a> </li> <li class=md-nav__item> <a href=#edit-dashboard-source-xml class=md-nav__link> Edit Dashboard Source XML </a> </li> <li class=md-nav__item> <a href=#add-custom-stylesheets-and-logic class=md-nav__link> Add custom stylesheets and logic </a> </li> <li class=md-nav__item> <a href=#dashboard-forms class=md-nav__link> Dashboard Forms </a> <nav class=md-nav aria-label="Dashboard Forms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tokens class=md-nav__link> Tokens </a> <nav class=md-nav aria-label=Tokens> <ul class=md-nav__list> <li class=md-nav__item> <a href=#time-input class=md-nav__link> Time Input </a> </li> <li class=md-nav__item> <a href=#text-input class=md-nav__link> Text Input </a> </li> <li class=md-nav__item> <a href=#dropdown-menu class=md-nav__link> Dropdown Menu </a> </li> <li class=md-nav__item> <a href=#multiselect-input class=md-nav__link> Multiselect Input </a> </li> <li class=md-nav__item> <a href=#cascading-input class=md-nav__link> Cascading Input </a> </li> <li class=md-nav__item> <a href=#event-handler class=md-nav__link> Event Handler </a> </li> <li class=md-nav__item> <a href=#token-filters class=md-nav__link> Token filters </a> </li> <li class=md-nav__item> <a href=#global-environment-tokens class=md-nav__link> Global environment tokens </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#customizing-dashboards class=md-nav__link> Customizing Dashboards </a> <nav class=md-nav aria-label="Customizing Dashboards"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#table-formatting class=md-nav__link> Table Formatting </a> </li> <li class=md-nav__item> <a href=#trellis class=md-nav__link> Trellis </a> </li> <li class=md-nav__item> <a href=#event-annotation class=md-nav__link> Event Annotation </a> </li> <li class=md-nav__item> <a href=#hiding-panel-links class=md-nav__link> Hiding panel links </a> </li> <li class=md-nav__item> <a href=#drilldowns class=md-nav__link> Drilldowns </a> </li> <li class=md-nav__item> <a href=#conditional-interactions class=md-nav__link> Conditional Interactions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-behaviors class=md-nav__link> Advanced Behaviors </a> <nav class=md-nav aria-label="Advanced Behaviors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#event-actions class=md-nav__link> Event Actions </a> </li> <li class=md-nav__item> <a href=#search-event-handlers class=md-nav__link> Search Event handlers </a> </li> <li class=md-nav__item> <a href=#visualization-event-handlers class=md-nav__link> Visualization Event Handlers </a> </li> <li class=md-nav__item> <a href=#form-input-event-handlers class=md-nav__link> Form Input Event Handlers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#custom-visualizations class=md-nav__link> Custom Visualizations </a> </li> <li class=md-nav__item> <a href=#simple-xml-extensions class=md-nav__link> Simple XML extensions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#optimizing-and-best-practices class=md-nav__link> Optimizing and Best Practices </a> <nav class=md-nav aria-label="Optimizing and Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#power-a-panel-using-report class=md-nav__link> Power a Panel using Report </a> </li> <li class=md-nav__item> <a href=#prevent-panels-refresh-when-inactive class=md-nav__link> Prevent panels refresh when inactive </a> </li> <li class=md-nav__item> <a href=#load-custom-javascript class=md-nav__link> Load custom JavaScript </a> </li> <li class=md-nav__item> <a href=#showhide-a-panel class=md-nav__link> Show/Hide a panel </a> </li> <li class=md-nav__item> <a href=#complete-charting-properties class=md-nav__link> Complete charting properties </a> </li> <li class=md-nav__item> <a href=#sparkline class=md-nav__link> sparkline </a> </li> <li class=md-nav__item> <a href=#panels-best-practices class=md-nav__link> Panels Best Practices </a> </li> <li class=md-nav__item> <a href=#use-a-base-search class=md-nav__link> Use a Base Search </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Splunk Dashboarding</h1> <p>Notes taken from Splunk official trainings. It serves as a quick reference for Splunk Dashboard creation and tricks.</p> <p>Dashboard view are webpages driven by simple XML for their contents, HTML for their layout, and CSS and JavaScript to define appearance and interactions.</p> <p>Any searches that return statistical data (from using <a href=https://docs.splunk.com/Documentation/Splunk/7.3.1/Search/Aboutreportingcommands target=_blank>transforming commands</a>, i.e. <code>stats chart timechart top rare</code>) can be displayed as visualization in a dashboard.</p> <h2 id=making-a-plan>Making a Plan<a class=headerlink href=#making-a-plan title="Permanent link">&para;</a></h2> <p>Splunk Dashboard serves a team audience. It can be used by engineers, stakeholders, devops, and customer support.</p> <p>Some questions worth getting clear answers before creating a dashboard:</p> <ul> <li>What are the end users and their skill level?</li> <li>Which metrics are critical to individual roles?</li> <li>What is the timespan of the data and how frequent it should refresh?</li> <li>What types of visualizations are required? Layout?</li> <li>Will users access this dashboard through Splunk or in a web app?</li> <li>Do you need custom stylesheet to define parameters for the visualizations? Javascript for additional interactivity?</li> </ul> <p>The important part of planning to to sketch out the dashboard's wireframes. Think about the panels you will need, types of visualizations, data you want, how they should arrange, and how the dashboard should look in the end.</p> <p>Next, plan for interactivity by adding inputs.</p> <p>For the search and data, it helps to create a chart listing the data group, the source type, and interesting fields. i.e.</p> <table> <thead> <tr> <th>Type</th> <th>Source type</th> <th>Interesting Fields</th> </tr> </thead> <tbody> <tr> <td>Online transactions</td> <td>access_combined</td> <td>action, bytes, categoryId, clientip, itemId, JSESSIONID, price, productId, product_name, referer, referer_domain, sale_price, status, user, useragent</td> </tr> <tr> <td>Retail sales</td> <td>vendor_sales</td> <td>AcctID, categoryId, product_name, productId, sale_price, Vendor, VendorCity, VendorCountry, VendorID, VendorStateProvince</td> </tr> <tr> <td>Server access data</td> <td>linux_secure</td> <td>action, app, dest, process, src_ip, src_port, user, vendor_action</td> </tr> <tr> <td>Event Annotations</td> <td>bcg_sale_dates</td> <td>Sale_Category, Sale_Date, message</td> </tr> </tbody> </table> <h2 id=html-dashboard>HTML Dashboard<a class=headerlink href=#html-dashboard title="Permanent link">&para;</a></h2> <p>At the dashboards page, you can edit a dashboard and convert it to HTML dashboard. Always do "Create New" so you have a backup to return to when running into issues.</p> <p>HTML dashboards allows more customizability but cuts out editability of the dashboard contents. Learn more about it <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/ExportHTML target=_blank>here</a>.</p> <p>You can add texts, images, reference files from other apps, and use common HTML tags.</p> <p>You can also directly add <code>&lt;html&gt;</code> tags within the dashboard source, and reference tokens within it and have it display on the dashboard. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;row&gt;</span>
    <span class=nt>&lt;panel&gt;</span>
        <span class=nt>&lt;title&gt;</span> Time Range: <span class=nt>&lt;/title&gt;</span>
        <span class=nt>&lt;html&gt;</span>$timeInput.earliest$ to $timeInput.latest$<span class=nt>&lt;/html&gt;</span>
    <span class=nt>&lt;/panel&gt;</span>
<span class=nt>&lt;/row&gt;</span>
</code></pre></div> <h2 id=edit-dashboard-source-xml>Edit Dashboard Source XML<a class=headerlink href=#edit-dashboard-source-xml title="Permanent link">&para;</a></h2> <p>Panels can have seven XML visualization elements, each of which can have their own attributes and options. Full reference is available at <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/PanelreferenceforSimplifiedXML#Working_with_visualization_elements target=_blank>here</a></p> <p>Source XML edit allows more advanced touch to the dashboard to improve efficiency, make appearance consistant cross panels, make more complex interactivity, </p> <div class=highlight><pre><span></span><code>&lt;chart&gt;
&lt;event&gt;
&lt;map&gt;
&lt;single&gt; single value
&lt;table&gt;
&lt;viz&gt; custom visualization
&lt;html&gt; html 
</code></pre></div> <p>Three types of dashboard panels:</p> <ul> <li>report</li> <li>inline</li> <li>prebuilt can be referenced by multiple dashboards where they show the same view<ul> <li>can be created from existing panels</li> <li>prebuilt panels can be accessed by Settings -&gt; User interface -&gt; Prebuilt panels</li> <li>edit prebuilt panels in XML</li> </ul> </li> </ul> <p>Note panel refresh is only available to report and inline panels.</p> <div class="admonition warning"> <p class=admonition-title>Prebuilt panels</p> <p>Avoid searches using knowledge objects when creating prebuilt panels, such as event types, tags, lookups. This is because all users may not have access to the same knowledge objects.</p> </div> <h2 id=add-custom-stylesheets-and-logic>Add custom stylesheets and logic<a class=headerlink href=#add-custom-stylesheets-and-logic title="Permanent link">&para;</a></h2> <p>You can add on top of the dashboard XML with CSS, HTML, Javascript, using third-party libraries to add custom behaviors, graphics, and layouts. This can be very labor intensive, however.</p> <h2 id=dashboard-forms>Dashboard Forms<a class=headerlink href=#dashboard-forms title="Permanent link">&para;</a></h2> <p>We can create user input widgets to take in form values, which are stored as tokens. Then tokens can be used as arguments in panels created by inline searches.</p> <p>Dashboard that has no inputs are wrapped in <code>&lt;dashboard&gt;</code> tags, while dashboard that has inputs are wrapped in <code>&lt;form&gt;</code> tags.</p> <h3 id=tokens>Tokens<a class=headerlink href=#tokens title="Permanent link">&para;</a></h3> <p>Tokens represent variables whose value changes dynamically. It is used to pass search terms and field values to individual or multiple dashboard panels. </p> <p>Tokens can also be used for event handlers which listen for actions and respond with configured behaviors, such as showing/hiding a dashboard panel, useful for configuring drill downs.</p> <p>Tokens can be pre-defined or user-defined. More about <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/tokens target=_blank>dashboard tokens</a>.</p> <h4 id=time-input>Time Input<a class=headerlink href=#time-input title="Permanent link">&para;</a></h4> <p>Time input can be created as a time picker, which creates a token for panels searches to reference and affect the duration covered by the search. You can do so easily through the UI. Or from XML:</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;fieldset&gt;</span>
    <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>&quot;time&quot;</span> <span class=na>token=</span><span class=s>&quot;timeInput&quot;</span><span class=nt>&gt;</span>
        ...
        <span class=nt>&lt;default&gt;</span>
            <span class=nt>&lt;earliest&gt;</span>-7d@d<span class=nt>&lt;/earliest&gt;</span>
            <span class=nt>&lt;latest&gt;</span>now<span class=nt>&lt;/latest&gt;</span>
        <span class=nt>&lt;/default&gt;</span>
    <span class=nt>&lt;/input&gt;</span>
<span class=nt>&lt;/fieldset&gt;</span>
...
<span class=nt>&lt;search&gt;</span>
    <span class=nt>&lt;query&gt;</span>...<span class=nt>&lt;/query&gt;</span>
    <span class=nt>&lt;earliest&gt;</span>$timeInput.earliest$<span class=nt>&lt;/earliest&gt;</span>
    <span class=nt>&lt;latest&gt;</span>$timeInput.latest$<span class=nt>&lt;/latest&gt;</span>
<span class=nt>&lt;/search&gt;</span>
</code></pre></div> <p>If the time input is not given a token name, it is regarded as the global time picker. The panels without a time selected will use the global time by default. And its XML will show</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;search&gt;</span>
    <span class=nt>&lt;query&gt;</span>...<span class=nt>&lt;/query&gt;</span>
    <span class=nt>&lt;earliest&gt;</span>$earliest$<span class=nt>&lt;/earliest&gt;</span>
    <span class=nt>&lt;latest&gt;</span>$latest$<span class=nt>&lt;/latest&gt;</span>
<span class=nt>&lt;/search&gt;</span>
</code></pre></div> <p>Note that <code>earliest</code> and <code>latest</code> in the search query still overrides the time picker. It can be useful to put the same panel side-by-side but only allow timerange selection to change on the right panel to allow comparison.</p> <p>A time input can be put within a panel to denote it controls time for that panel (even though the token created is still sharable by other panels). You can still reference the time token within the Panel title to let it reflect the time selected.</p> <h4 id=text-input>Text Input<a class=headerlink href=#text-input title="Permanent link">&para;</a></h4> <p>Manually supply any value to a field token that can be used by panels searches.</p> <p>This token is useful to replace query where a search condition has wildcard match in it, so that the text token can be used instead for filtering data for the panel.</p> <p>It is good to prefix and suffix the token value with <code>"</code> in the search string so the token value can contain spaces.</p> <p>Default value overides initial value.</p> <h4 id=dropdown-menu>Dropdown Menu<a class=headerlink href=#dropdown-menu title="Permanent link">&para;</a></h4> <p>Supply selectable values to users, whose values set is also searchable. Options can be static or from a search.</p> <p>There are ways to improve the user experience for the dropdown, such as sort the options alphabetically, list the options sorted by the frequency of appearance.</p> <h4 id=multiselect-input>Multiselect Input<a class=headerlink href=#multiselect-input title="Permanent link">&para;</a></h4> <p>Allows user simultaneously search for multiple values. The token value prefix/suffix and delimiter are particularly useful here to supply token value as multiple conditions for the search.</p> <h4 id=cascading-input>Cascading Input<a class=headerlink href=#cascading-input title="Permanent link">&para;</a></h4> <p>Feed variables from one input dropdowns to another to narrow down data being searched by categoy. i.e. select Country Code -&gt; State -&gt; City.</p> <h4 id=event-handler>Event Handler<a class=headerlink href=#event-handler title="Permanent link">&para;</a></h4> <p>When providing cascading inputs, it is nice to provide a way to quickly clear/reset the form. We can do so with a Radio button that has only one option, and add some <code>&lt;unset&gt;</code> tags to the radio button's tags. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>&quot;radio&quot;</span> <span class=na>token=</span><span class=s>&quot;reset_menus_tok&quot;</span> <span class=na>searchWhenChanged=</span><span class=s>&quot;true&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;label&gt;&lt;/label&gt;</span>
    <span class=nt>&lt;choice</span> <span class=na>value=</span><span class=s>&quot;now&quot;</span><span class=nt>&gt;</span>Reset Menus<span class=nt>&lt;/choice&gt;</span>
    <span class=nt>&lt;default&gt;</span>now<span class=nt>&lt;/default&gt;</span>
    <span class=nt>&lt;change&gt;</span> 
        <span class=nt>&lt;unset</span> <span class=na>token=</span><span class=s>&quot;form.v_country_tok&quot;</span><span class=nt>&gt;&lt;/unset&gt;</span> 
        <span class=nt>&lt;unset</span> <span class=na>token=</span><span class=s>&quot;form.v_state_tok&quot;</span><span class=nt>&gt;&lt;/unset&gt;</span> 
        <span class=nt>&lt;unset</span> <span class=na>token=</span><span class=s>&quot;form.v_city_tok&quot;</span><span class=nt>&gt;&lt;/unset&gt;</span> 
        <span class=nt>&lt;set</span> <span class=na>token=</span><span class=s>&quot;form.reset_menus_tok&quot;</span><span class=nt>&gt;</span>no<span class=nt>&lt;/set&gt;</span> 
    <span class=nt>&lt;/change&gt;</span>
<span class=nt>&lt;/input&gt;</span>
</code></pre></div> <h4 id=token-filters>Token filters<a class=headerlink href=#token-filters title="Permanent link">&para;</a></h4> <p>Token filters allow you to manipulate and escape characters in token values.</p> <p>Splunk has five default Token filters. You can create you own using JavaScript, reference <a href=https://dev.splunk.com/enterprise/docs/developapps/webframework/binddatausingtokens/transformandvalidate/ target=_blank>here</a>. More examples <a href=https://splunkbase.splunk.com/app/1603/ target=_blank>here</a> and Splunk <a href=https://dev.splunk.com/enterprise/docs/devtools/javascript/sdk-javascript/ target=_blank>JavaScript SDK</a></p> <ul> <li><code>|s</code> Quote filter - You can use the <code>|s</code> operator in token to ensure it is always quoted, i.e. <code>$mytoken|s$</code></li> <li><code>|h</code> HTML inclusion filter - makes token values valid for HTML, such as <code>&amp;amp;</code></li> <li><code>|u</code> URL encoding filter - makes token value URL escaped, such as <code>%20</code></li> <li><code>|n</code> - prevent any encoding to variables contained within the token wrapper, such as preventing URLs from being escaped.</li> <li><code>$$</code> - wrap the token with second pair of <code>$</code> to prevent it from being rendered.</li> </ul> <h4 id=global-environment-tokens>Global environment tokens<a class=headerlink href=#global-environment-tokens title="Permanent link">&para;</a></h4> <p>Tokens available by default and used as <code>$env:token_name$</code>. Here is a list of <a href=https://docs.splunk.com/Documentation/Splunk/8.0.0/Viz/tokens#Use_global_tokens_to_access_environment_information target=_blank>global tokens</a>.</p> <h3 id=customizing-dashboards>Customizing Dashboards<a class=headerlink href=#customizing-dashboards title="Permanent link">&para;</a></h3> <h4 id=table-formatting>Table Formatting<a class=headerlink href=#table-formatting title="Permanent link">&para;</a></h4> <p>Using the configuration options from the UI, you can make a statistics table more informative through use of Format and give it sort by field, highlights on values, and formatting on number precisions.</p> <p>The same set of customization rules can be easily copied to another in the XML (Source) editor.</p> <h4 id=trellis>Trellis<a class=headerlink href=#trellis title="Permanent link">&para;</a></h4> <p>Use of Trellis allows us visualize the data by category, and create multiple instances of a visualization without running multiple ad hoc searches.</p> <p>Enabling this option may make the panel heights a bit awkward, which we can fix by giving the panel a fixed height or width, or updating the trellis size:</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;option</span> <span class=na>name=</span><span class=s>&quot;height&quot;</span><span class=nt>&gt;</span>460<span class=nt>&lt;/option&gt;</span>
</code></pre></div> <h4 id=event-annotation>Event Annotation<a class=headerlink href=#event-annotation title="Permanent link">&para;</a></h4> <p>Event Annotation allow you to add labels to a dashboard panel, adding context to the data behind it.</p> <p>You do this within an existing panel by editing its source XML. Add another search element with <code>type="annotation"</code>. Then within the search string, use <code>eval</code> to create <code>annotation_label</code> which allows you to use a field name to group annotations.</p> <p>Event annotations require the <code>_time</code> field, so it must be available in the output of the search. The search's time range will inherit from the panel's time range unless specified otherwise in the query.</p> <p>i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;serach</span> <span class=na>type=</span><span class=s>&quot;annotation&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;query&gt;</span>
        index=...
        | eval annotation_label = &quot;User Removed from Cart&quot;
        | table _time annotation_label
    <span class=nt>&lt;/query&gt;</span>
<span class=nt>&lt;/search&gt;</span>
</code></pre></div> <p>Some other useful properties can be added within the <code>eval</code> command are </p> <ul> <li><code>annotation_category</code>: group annotations by category</li> <li><code>annotation_color</code>: set annotation marker color<ul> <li>alternatively can use chart option <code>charting.annotation.categoryColors</code></li> </ul> </li> </ul> <h4 id=hiding-panel-links>Hiding panel links<a class=headerlink href=#hiding-panel-links title="Permanent link">&para;</a></h4> <p>You can choose to hide some links shown at bottom of the panel when hovering. A comprehensive list of options to show/hide can be found <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/PanelreferenceforSimplifiedXML#Shared_options target=_blank>here</a>.</p> <p>The options also allow further refine the linked search with other queries, useful for drill down more data or on a different or larger time span.</p> <h4 id=drilldowns>Drilldowns<a class=headerlink href=#drilldowns title="Permanent link">&para;</a></h4> <p>Drilldowns allows users to run new searches and display additional details by interacting with dashboard panels.</p> <p>Four types of drilldowns: Event, Visualization, Dynamic, Contextual.</p> <p><strong>Event drilldown</strong> involves user clicking on an event returned from a search result, allows users to</p> <ul> <li>add more terms to the search</li> <li>exclude terms</li> <li>create new search for all events containing the term</li> </ul> <p><strong>Visualization drilldown</strong> is under the visualization tab, users clicks directs them to the events returned by the underlying search.</p> <p><strong>Dynamic drilldowns</strong> allow user interactions to pass values to other searches, dashboards, reports, or external sources. This can be configured by the Drilldown editor for each panel:</p> <ul> <li>Link to Search allows using <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/PanelreferenceforSimplifiedXML#Predefined_drilldown_tokens target=_blank>predefined tokens</a> or other tokens available in the link to search with custom search string<ul> <li><code>$click.value$</code> token is predefined for multiple visualization types</li> <li>when clicked, the visualization x-axis value is populated into <code>$click.value$</code> token, and the y-axis value is populated to the <code>$click.value2$</code> token</li> </ul> </li> </ul> <p><img src=../img/predefined_tokens.PNG></p> <ul> <li>Link to Dashboard allows further see other dashboards with more details for a specific category<ul> <li>you can pass parameters to the downstream dashboard that depends on a token</li> <li>parameter name should be: <code>form.&lt;token_name&gt;</code></li> <li>note the global time range can be directly used in parameter: <code>earliest latest</code></li> </ul> </li> <li>Link to reports allows redirects to reports to prevent unwanted adhoc searches</li> <li>Link to URL allows opening a page from a relative URL (for another Splunk view) or absolute URL (for external resources)</li> <li>Change the value of tokens or set a token</li> </ul> <p>A <code>&lt;drilldown&gt;</code> element will be add to the panel in its XML source when it is set.</p> <p><strong>Contextual drilldowns</strong> allow dashboard panels to listen for specific events, then trigger custom actions in response, i.e. show/hide panels.</p> <h4 id=conditional-interactions>Conditional Interactions<a class=headerlink href=#conditional-interactions title="Permanent link">&para;</a></h4> <p>Use of drilldown and change actions depending on the fields clicked, which requires change the XML and the use of <code>&lt;condition&gt;</code> elements. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;drilldown&gt;</span>
    <span class=nt>&lt;condition</span> <span class=na>field=</span><span class=s>&quot;Vendor Sales&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;set</span> <span class=na>token=</span><span class=s>&quot;params1&quot;</span><span class=nt>&gt;</span>index=web<span class=nt>&lt;/set&gt;</span>
        <span class=nt>&lt;link</span> <span class=na>target=</span><span class=s>&quot;_self&quot;</span><span class=nt>&gt;</span>/app/search/product_sales_by_source?form.Source=$params1$<span class=ni>&amp;amp;</span>form.dash2time.earliest=$form.dash1time.earliest$...<span class=nt>&lt;/link&gt;</span>
    <span class=nt>&lt;/condition&gt;</span>
<span class=nt>&lt;/drilldown&gt;</span>
</code></pre></div> <p>More elements that can be used within conditions can be found at <a href=https://docs.splunk.com/Documentation/Splunk/8.2.2/Viz/PanelreferenceforSimplifiedXML#condition_.28drilldown.29 target=_blank>here</a></p> <h3 id=advanced-behaviors>Advanced Behaviors<a class=headerlink href=#advanced-behaviors title="Permanent link">&para;</a></h3> <h4 id=event-actions>Event Actions<a class=headerlink href=#event-actions title="Permanent link">&para;</a></h4> <p>Four types of event actions elements: <code>&lt;eval&gt; &lt;link&gt; &lt;set&gt; &lt;unset&gt;</code></p> <ul> <li><code>&lt;eval&gt;</code> works like an <code>eval</code> command, by executing an expression and storing the results in a defined field<ul> <li>it takes a component of an <code>eval command</code> and adapts for XML</li> <li>i.e. <code>| eval bandwidth=round(Bytes/1024,1024,2)</code> becomes <code>&lt;eval token="bandwidth"&gt;round(Bytes/1024,1024,2)&lt;/eval&gt;</code></li> </ul> </li> <li><code>&lt;link&gt;</code> allows setting a destination for a drilldown, input, or search.<ul> <li>destination can be a dashboard (i.e. <code>&lt;link&gt;app/search/[dashboard_name]&lt;/link&gt;</code>), form (i.e. <code>&lt;link&gt;app/search/[dashboard_name]?form.token=$token$&lt;/link&gt;</code>), or URL (i.e. <code>&lt;link&gt;[URL]?q=$token$&lt;/link&gt;</code>)</li> </ul> </li> <li><code>&lt;set/unset&gt;</code> allows create new token values or remove a token</li> </ul> <p>These event action elements must be wrapped within elements such as <code>&lt;drilldown&gt; &lt;change&gt; &lt;search&gt;</code>, and optionally used within the <code>&lt;condition&gt;</code> element.</p> <p>When used with <code>&lt;search&gt;</code>, you can make the action dependent on the status of a search, from the event handlers <code>&lt;done&gt; &lt;error&gt; &lt;fail&gt; &lt;cancelled&gt; &lt;progress&gt;</code>. <code>&lt;link&gt;</code> can further be used with <code>&lt;finalize&gt; &lt;preview&gt;</code> elements.</p> <p>Comprehensive documentation for event actions is <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/EventHandlerReference#Event_actions target=_blank>here</a>.</p> <h4 id=search-event-handlers>Search Event handlers<a class=headerlink href=#search-event-handlers title="Permanent link">&para;</a></h4> <p>Five types of search event handlers: <code>&lt;done&gt; &lt;error&gt; &lt;fail&gt; &lt;cancelled&gt; &lt;progress&gt;</code></p> <p>They can be used with predefiend tokens <code>$job$ $result$</code>.</p> <ul> <li><code>$result$</code> token returns the value from the first row of results for the specified field<ul> <li>can be used with the <code>&lt;progress&gt;</code> and <code>&lt;done&gt;</code> elements</li> </ul> </li> <li><code>$job$</code> token accesses properties from the search, i.e. resultCount runDuration<ul> <li>can be used with the <code>&lt;progress&gt;</code> and <code>&lt;done&gt;</code> elements</li> </ul> </li> </ul> <div class="admonition note"> <p class=admonition-title>Example usage: show result count in the panel title</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;panel&gt;</span>
    <span class=nt>&lt;chart&gt;</span>
        <span class=nt>&lt;title&gt;</span>Vendor Sales - $results$ events<span class=nt>&lt;/title&gt;</span>
        <span class=nt>&lt;query&gt;</span>...<span class=nt>&lt;/query&gt;</span>
        <span class=nt>&lt;earliest&gt;</span>...<span class=nt>&lt;/earliest&gt;</span>
        <span class=nt>&lt;latest&gt;</span>...<span class=nt>&lt;/latest&gt;</span>
        <span class=nt>&lt;done&gt;</span>
            <span class=nt>&lt;set</span> <span class=na>token=</span><span class=s>&quot;results&quot;</span><span class=nt>&gt;</span>$job.resultCount$<span class=nt>&lt;/set&gt;</span>
            <span class=nt>&lt;eval</span> <span class=na>token=</span><span class=s>&quot;runTime&quot;</span><span class=nt>&gt;</span>tostring(tonumber($job.runDuration$),&quot;duration&quot;)<span class=nt>&lt;/eval&gt;</span>
        <span class=nt>&lt;/done&gt;</span>
    <span class=nt>&lt;/chart&gt;</span>
    <span class=nt>&lt;html&gt;</span>
        <span class=nt>&lt;p&gt;</span>Job Duration: $runTime$<span class=nt>&lt;/p&gt;</span>
    <span class=nt>&lt;/html&gt;</span>
<span class=nt>&lt;/panel&gt;</span>
</code></pre></div> </div> <h4 id=visualization-event-handlers>Visualization Event Handlers<a class=headerlink href=#visualization-event-handlers title="Permanent link">&para;</a></h4> <p><code>&lt;drilldown&gt;</code> is a kind of visualization event handlers.</p> <p>There is also <code>&lt;selection&gt;</code> which allows users to pan and zoom timerange from within an area, column, and line charts. The token produced can be used anywhere on other panels. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;chart&gt;</span>
    <span class=nt>&lt;search&gt;</span>...<span class=nt>&lt;/search&gt;</span>
    <span class=nt>&lt;selection&gt;</span>
        <span class=nt>&lt;set</span> <span class=na>token=</span><span class=s>&quot;selection.earliest&quot;</span><span class=nt>&gt;</span>$start$<span class=nt>&lt;/set&gt;</span>
        <span class=nt>&lt;set</span> <span class=na>token=</span><span class=s>&quot;selection.latest&quot;</span><span class=nt>&gt;</span>$end$<span class=nt>&lt;/set&gt;</span>
    <span class=nt>&lt;/selection&gt;</span>
<span class=nt>&lt;/chart&gt;</span>
</code></pre></div> <p>Then create other panels to listen on the tokens created by the selection. The new panel will refresh whenenver the selection changes from the first panel.</p> <p><code>depends</code> and <code>rejects</code> are attributes can be used on elements <code>&lt;row&gt; &lt;panel&gt; &lt;chart&gt; &lt;table&gt; &lt;events&gt; &lt;input&gt; &lt;search&gt;</code> to show/hide elements by checking whether the specified token exists. They can be used with event handlers including <code>&lt;drilldown&gt;</code> and <code>&lt;condition&gt;</code></p> <p><code>depends</code> and <code>rejects</code> can be used together in case different combination of inputs are used to display different panels.</p> <h4 id=form-input-event-handlers>Form Input Event Handlers<a class=headerlink href=#form-input-event-handlers title="Permanent link">&para;</a></h4> <p>The <code>&lt;change&gt;</code> element can be used within <code>&lt;input&gt;</code> to control how the dashboard responds to user inputs. The supported input types are <code>checkbox, dropdown, link, radio, text, time</code></p> <p>For example, when user selecting one input which should clear some other input, you can use <code>&lt;change&gt;</code> and <code>&lt;unset&gt;</code> to do so.</p> <p>One thing to note is that tokens used in <code>&lt;set&gt; &lt;unset&gt;</code> within <code>&lt;change&gt;</code> should be referenced by <code>form.&lt;token_name&gt;</code> for it to work properly.</p> <h3 id=custom-visualizations>Custom Visualizations<a class=headerlink href=#custom-visualizations title="Permanent link">&para;</a></h3> <p>Custom visualizations can be downloaded from Splunkbase.com (or from Browse more Apps menu) or created yourself (helpful <a href=https://docs.splunk.com/Documentation/Splunk/latest/AdvancedDev/CustomVizDevOverview target=_blank>docs</a>). Installing new visualizations requires admin role.</p> <h3 id=simple-xml-extensions>Simple XML extensions<a class=headerlink href=#simple-xml-extensions title="Permanent link">&para;</a></h3> <p>Files put under <code>Search/Appserver/Static</code> can be referenced by the dashboard XML as comma-separated string. For css it is referenced as attribute <code>stylesheet="db_style.css"</code>, and for js it is <code>script="db_script.js"</code></p> <p><code>dashboard.css</code> and <code>dashboard.js</code> will automatically be referenced without explicitly doing so in XML.</p> <h2 id=optimizing-and-best-practices>Optimizing and Best Practices<a class=headerlink href=#optimizing-and-best-practices title="Permanent link">&para;</a></h2> <h3 id=power-a-panel-using-report>Power a Panel using Report<a class=headerlink href=#power-a-panel-using-report title="Permanent link">&para;</a></h3> <p>When creating dashboards, we tend to create an empty dashboard, then create panels with queries as inline search.</p> <p>The dashboard is configured such that each time it loads, it runs those searches. And if the panels are configured to refresh on an interval, it does so for every panel and for every user having this dashboard opened.</p> <p>This puts more pressure to Splunk as more users open the same dashboard at the same time. There is a way to let all users see the "cached" dashboard panels, given that dashboard panels are not subject to taking user inputs.</p> <div class="admonition note"> <p class=admonition-title>Power a Panel using Report</p> <p>Within the search page, save your search as <a href=https://docs.splunk.com/Documentation/Splunk/latest/Report/Schedulereports target=_blank>Report</a> (and make sure no time range picker, so it can be scheduled to run).</p> <p>Then you can immediately add a panel in the dashboard view using the Report you just created (make sure Report is selected rather than inline search).</p> <p>Now go to the Report page, configure the report just created and enable "Schedule Report", give it a recurring scheduled time to run so that each time the dashboard loads, it reuse the cached results from the scheduled Report.</p> </div> <h3 id=prevent-panels-refresh-when-inactive>Prevent panels refresh when inactive<a class=headerlink href=#prevent-panels-refresh-when-inactive title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>onunloadCanelJobs</p> <p>We can set a dashboard attribute <code>onunloadCanelJobs="true"</code> to prevent panels from auto refreshing when a user is navigated to a different browser tab. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;dashboard</span> <span class=na>onunloadCanelJobs=</span><span class=s>&quot;true&quot;</span><span class=nt>&gt;</span>
    ...
<span class=nt>&lt;/dashboard&gt;</span>
</code></pre></div> </div> <h3 id=load-custom-javascript>Load custom JavaScript<a class=headerlink href=#load-custom-javascript title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>custom JavaScript</p> <p>You can have a dashboard load custom JavaScript by providing the attribute <code>script="&lt;script_file1, script_file2 ...&gt;"</code> on the dashboard root tag. This file must be present on the app server's static subfolder.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;form</span> <span class=na>script=</span><span class=s>&quot;customScript.js&quot;</span><span class=nt>&gt;</span>
    ...
<span class=nt>&lt;/form&gt;</span>
</code></pre></div> </div> <h3 id=showhide-a-panel>Show/Hide a panel<a class=headerlink href=#showhide-a-panel title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Use token to control whether element renders</p> <p>You can use <code>rejects</code> or <code>depends</code> attributes on elements to control whether it renders. Both takes a comma separated list of tokens.</p> <p><code>rejects</code> will hide an element if one the specified tokens is defined; <code>depends</code> will show an element only if all the specified tokens are defined.</p> </div> <h3 id=complete-charting-properties>Complete charting properties<a class=headerlink href=#complete-charting-properties title="Permanent link">&para;</a></h3> <p>Full <a href=https://docs.splunk.com/Documentation/Splunk/8.0.0/Viz/ChartConfigurationReference target=_blank>Charting Configurations</a> can be found on official doc. Using these options to further customize the charts.</p> <p>Visualization also have shared options can be found <a href=https://docs.splunk.com/Documentation/Splunk/latest/Viz/PanelreferenceforSimplifiedXML#Shared_options target=_blank>here</a>.</p> <h3 id=sparkline>sparkline<a class=headerlink href=#sparkline title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Add a sparkline to statistics table to show a small trend of data</p> <p><code>sparkline</code> is a function to use to let a statistics table showing some "snippet" of what you get from a timechart on that field.</p> </div> <h3 id=panels-best-practices>Panels Best Practices<a class=headerlink href=#panels-best-practices title="Permanent link">&para;</a></h3> <ul> <li>Try limit the number of panels to five on a dashboard<ul> <li>consider spreading to multiple dashboards if needed more panels</li> </ul> </li> <li>As for Reports, saved searches, and other knowledge objects, make title as descriptive as possible<ul> <li>recommend a global naming convention for the organization</li> <li>i.e. <code>&lt;sourcetype&gt; by &lt;team/org&gt; - &lt;time_range&gt;</code></li> <li>title length of 45 chars or less is also recommended</li> </ul> </li> <li>Use Report-backed panels, limiting time ranges for the searches, or use more of <code>top</code> and <code>head</code> commands in the search help speed up the panel load time</li> </ul> <p>You should consider power your panels with accelerated data models and using <a href=https://docs.splunk.com/Documentation/Splunk/latest/SearchReference/Tstats target=_blank><code>tstats</code></a></p> <h3 id=use-a-base-search>Use a Base Search<a class=headerlink href=#use-a-base-search title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>base search and post-process search</p> <p>When multiple panels within the dashboard have the same search terms (before the first pipe), you can pull the common part out as a base search, and reference it and keep build on top of it in other panels' searches (as post-process search). i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;dashboard&gt;</span>
    <span class=nt>&lt;search</span> <span class=na>id=</span><span class=s>&quot;web_sales&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;query&gt;</span>index=vendor-sales ... | fields vendor, sales, product_name<span class=nt>&lt;/query&gt;</span>
    <span class=nt>&lt;/search&gt;</span>
    <span class=nt>&lt;row&gt;</span>
        <span class=nt>&lt;panel&gt;</span>
            <span class=nt>&lt;chart&gt;</span>
                <span class=nt>&lt;search</span> <span class=na>base=</span><span class=s>&quot;web_sales&quot;</span><span class=nt>&gt;</span>
                    <span class=nt>&lt;query&gt;</span>timechart count by product_name<span class=nt>&lt;/query&gt;</span>
                <span class=nt>&lt;/search&gt;</span>
            <span class=nt>&lt;/chart&gt;</span>
        <span class=nt>&lt;/panel&gt;</span>
    <span class=nt>&lt;/row&gt;</span>
<span class=nt>&lt;/dashboard&gt;</span>
</code></pre></div> <p>This also allows those panels sharing the same base search to make one base search to Splunk, reducing loads on Splunk deployment.</p> </div> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Check the search string</p> <p>For inline search and Prebuilt panels, just paste the query string into a search and verify the data is expected.</p> <p>Also check macros that are powered by their own underlying searches. Short cut to show macro expanded is Ctrl/Command-Shift-E.</p> <p>Use <code>history</code> command to check previous searches stored as events.</p> <p>For Reports, view the report to ensure its functioning properly, note its schedule and acceleration settings.</p> </div> <div class="admonition note"> <p class=admonition-title>Check XML for illegal characters</p> <p>Characters such as <code>' " &lt; &gt;</code> have special meanings in XML and should be escaped using the CDATA tags. i.e. <code>&lt;!--CDATA[ Steve's Games ]--&gt;</code></p> </div> <div class="admonition note"> <p class=admonition-title>Use job inspector</p> <p>Use the job inspector within the search page to see how a search was processed as well as many metrics related to the search. More see this <a href="https://www.youtube.com/watch?v=n3OqaB6GVXs" target=_blank>video</a></p> </div> <div class="admonition note"> <p class=admonition-title>Create HTML panel with tokens</p> <p>It is useful to debug a dashboard tokens by creating a HTML panel showing all token values. i.e.</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;row&gt;</span>
    <span class=nt>&lt;panel&gt;</span>
        <span class=nt>&lt;html&gt;</span>
            <span class=nt>&lt;p&gt;</span>cat_tok_01 = $cat_tok_01$<span class=nt>&lt;/p&gt;</span>
            <span class=nt>&lt;p&gt;</span>cat_tok_02 = $cat_tok_02$<span class=nt>&lt;/p&gt;</span>
            ...
        <span class=nt>&lt;/html&gt;</span>
    <span class=nt>&lt;/panel&gt;</span>
<span class=nt>&lt;/row&gt;</span>
</code></pre></div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Splunk-References/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Splunk Knowledge </div> </div> </a> <a href=../../../Programming-Lang-Reference/Golang/Golang-Specs/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Golang Language Reference </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.53cc9318.min.js></script> <script src=../../../assets/javascripts/bundle.e9c9f54f.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>