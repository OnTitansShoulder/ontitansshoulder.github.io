<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We are all standing on the shoulders of the giants..."><meta name=author content="Zhongkai Liu"><link rel="shortcut icon" href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.6"><title>Beginner Guide to System Design - Ontitansshoulder</title><link rel=stylesheet href=../../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#beginner-guide-to-system-design class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../.. title=Ontitansshoulder class="md-header-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Ontitansshoulder </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Beginner Guide to System Design </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> Notes </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Ontitansshoulder class="md-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Ontitansshoulder </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1 checked> <label class=md-nav__link for=nav-1> Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Notes data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Foundamental/Data_Structures_and_Algos/ class=md-nav__link> Data Structures and Algos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <label class=md-nav__link for=nav-1-3> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-1 type=checkbox id=nav-1-3-1> <label class=md-nav__link for=nav-1-3-1> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=3> <label class=md-nav__title for=nav-1-3-1> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/Concepts/Linux_Foundation/ class=md-nav__link> Linux Foundation </a> </li> <li class=md-nav__item> <a href=../../Linux/Concepts/Linux_Foundation_System_Admin/ class=md-nav__link> Linux System Administration </a> </li> <li class=md-nav__item> <a href=../../Linux/Concepts/Linux_Foundation_Network_Admin/ class=md-nav__link> Linux Network Administration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-2 type=checkbox id=nav-1-3-2> <label class=md-nav__link for=nav-1-3-2> Practical References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Practical References" data-md-level=3> <label class=md-nav__title for=nav-1-3-2> <span class="md-nav__icon md-icon"></span> Practical References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/Commands/Freq-Used-Shell-Cmds/ class=md-nav__link> Freq Used Shell Cmds </a> </li> <li class=md-nav__item> <a href=../../Linux/Commands/Networking-Shell-Cmds/ class=md-nav__link> Freq Used Network Cmds </a> </li> <li class=md-nav__item> <a href=../../Linux/Commands/Text-Manipulating-Cmds/ class=md-nav__link> Text Manipulating Cmds </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-3 type=checkbox id=nav-1-3-3> <label class=md-nav__link for=nav-1-3-3> Tricks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tricks data-md-level=3> <label class=md-nav__title for=nav-1-3-3> <span class="md-nav__icon md-icon"></span> Tricks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/References/Freq-Tasks/ class=md-nav__link> Freq Linux Tasks </a> </li> <li class=md-nav__item> <a href=../../Linux/References/Terminal-Tricks/ class=md-nav__link> Linux Terminal Tricks </a> </li> <li class=md-nav__item> <a href=../../Linux/References/Vim-Tricks/ class=md-nav__link> Vim Tricks </a> </li> <li class=md-nav__item> <a href=../../Linux/References/Account-Administration/ class=md-nav__link> Manage Accounts & Groups </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Cloud <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cloud data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Cloud-and-Containers/Architecture/Cloud-App-Architecture/ class=md-nav__link> Cloud App Architecture </a> </li> <li class=md-nav__item> <a href=../../Cloud-and-Containers/Docker/Docker/ class=md-nav__link> Docker and Containers </a> </li> <li class=md-nav__item> <a href=../../Cloud-and-Containers/Docker/Docker-Practical/ class=md-nav__link> Docker Practical </a> </li> <li class=md-nav__item> <a href=../../Cloud-and-Containers/k8s/K8s-Knowledge/ class=md-nav__link> K8s Knowledge </a> </li> <li class=md-nav__item> <a href=../../Cloud-and-Containers/k8s/service_mesh/ class=md-nav__link> Service Mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5 type=checkbox id=nav-1-5> <label class=md-nav__link for=nav-1-5> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Monitoring data-md-level=2> <label class=md-nav__title for=nav-1-5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5-1 type=checkbox id=nav-1-5-1> <label class=md-nav__link for=nav-1-5-1> Splunk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Splunk data-md-level=3> <label class=md-nav__title for=nav-1-5-1> <span class="md-nav__icon md-icon"></span> Splunk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Dev-Tools-Reference/Splunk/Splunk-References/ class=md-nav__link> Splunk Knowledge </a> </li> <li class=md-nav__item> <a href=../../Dev-Tools-Reference/Splunk/Splunk-Dashboarding/ class=md-nav__link> Splunk Dashboarding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6 type=checkbox id=nav-1-6> <label class=md-nav__link for=nav-1-6> Programming Langs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Programming Langs" data-md-level=2> <label class=md-nav__title for=nav-1-6> <span class="md-nav__icon md-icon"></span> Programming Langs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-1 type=checkbox id=nav-1-6-1> <label class=md-nav__link for=nav-1-6-1> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Golang data-md-level=3> <label class=md-nav__title for=nav-1-6-1> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Golang/Golang-Specs/ class=md-nav__link> Golang Language Reference </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Golang/Best-Practices/ class=md-nav__link> Effective Go </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Golang/Freq-Used-Libs/ class=md-nav__link> Go libraries and examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-2 type=checkbox id=nav-1-6-2> <label class=md-nav__link for=nav-1-6-2> Java <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Java data-md-level=3> <label class=md-nav__title for=nav-1-6-2> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Java/Style-Guide/ class=md-nav__link> Style Guide </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Java/Best-Practices/ class=md-nav__link> Effective Java </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Java/Design-Patterns/ class=md-nav__link> Java Design Patterns </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Java/Testing-Design-Patterns/ class=md-nav__link> Testing Design Patterns </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Java/Java_Std_Lib_Cheatsheet/ class=md-nav__link> Java Std Lib Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-3 type=checkbox id=nav-1-6-3> <label class=md-nav__link for=nav-1-6-3> C++ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=C++ data-md-level=3> <label class=md-nav__title for=nav-1-6-3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/CPP/CPlusPlus_Lang_Specs/ class=md-nav__link> C++ Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-4 type=checkbox id=nav-1-6-4> <label class=md-nav__link for=nav-1-6-4> Perl <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Perl data-md-level=3> <label class=md-nav__title for=nav-1-6-4> <span class="md-nav__icon md-icon"></span> Perl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Perl/Perl-Lang-Specs/ class=md-nav__link> Perl Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-5 type=checkbox id=nav-1-6-5> <label class=md-nav__link for=nav-1-6-5> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Shell data-md-level=3> <label class=md-nav__title for=nav-1-6-5> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Shell/Shell-Scripting/ class=md-nav__link> Shell Scripting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Github-Markdown/ class=md-nav__link> Github Markdown Guide </a> </li> <li class=md-nav__item> <a href=../../Programming-Lang-Reference/Regex-Specs/ class=md-nav__link> Regex Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-7 type=checkbox id=nav-1-7 checked> <label class=md-nav__link for=nav-1-7> Reading Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Reading Notes" data-md-level=2> <label class=md-nav__title for=nav-1-7> <span class="md-nav__icon md-icon"></span> Reading Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../How-Netflix-Works/ class=md-nav__link> How Netflix Works </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> System Design Guide <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> System Design Guide </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#beginner-guide-to-system-design class=md-nav__link> Beginner Guide to System Design </a> <nav class=md-nav aria-label="Beginner Guide to System Design"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#characteristics-of-distributed-system class=md-nav__link> Characteristics of Distributed System </a> </li> <li class=md-nav__item> <a href=#cap-theorem class=md-nav__link> CAP Theorem </a> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> Caching </a> </li> <li class=md-nav__item> <a href=#indexes class=md-nav__link> Indexes </a> </li> <li class=md-nav__item> <a href=#consistent-hashing class=md-nav__link> Consistent Hashing </a> </li> <li class=md-nav__item> <a href=#long-polling-vs-web-sockets-vs-server-sent-events class=md-nav__link> Long-Polling vs. Web Sockets vs. Server-Sent Events </a> </li> <li class=md-nav__item> <a href=#queues class=md-nav__link> Queues </a> </li> <li class=md-nav__item> <a href=#proxy class=md-nav__link> Proxy </a> </li> <li class=md-nav__item> <a href=#load-balancing-lb class=md-nav__link> Load Balancing (LB) </a> </li> <li class=md-nav__item> <a href=#sql-vs-nosql class=md-nav__link> SQL vs. NoSQL </a> </li> <li class=md-nav__item> <a href=#redundancy-and-replication class=md-nav__link> Redundancy and Replication </a> </li> <li class=md-nav__item> <a href=#sharding-data-partitioning class=md-nav__link> Sharding (Data Partitioning) </a> </li> <li class=md-nav__item> <a href=#system-design-interviews-how-to-approach class=md-nav__link> System Design Interviews, how to approach </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Why-Latency-Matters/ class=md-nav__link> Why Latency Matters </a> </li> <li class=md-nav__item> <a href=../DevOps_SRE/ class=md-nav__link> Intro to DevOps and SRE </a> </li> <li class=md-nav__item> <a href=../Leading-without-formal-authority/ class=md-nav__link> Leading Without Formal Authority </a> </li> <li class=md-nav__item> <a href=../Google-SRE-Book/ class=md-nav__link> Google SRE Book </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Good-Reads/ class=md-nav__link> Good Reads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#beginner-guide-to-system-design class=md-nav__link> Beginner Guide to System Design </a> <nav class=md-nav aria-label="Beginner Guide to System Design"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#characteristics-of-distributed-system class=md-nav__link> Characteristics of Distributed System </a> </li> <li class=md-nav__item> <a href=#cap-theorem class=md-nav__link> CAP Theorem </a> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> Caching </a> </li> <li class=md-nav__item> <a href=#indexes class=md-nav__link> Indexes </a> </li> <li class=md-nav__item> <a href=#consistent-hashing class=md-nav__link> Consistent Hashing </a> </li> <li class=md-nav__item> <a href=#long-polling-vs-web-sockets-vs-server-sent-events class=md-nav__link> Long-Polling vs. Web Sockets vs. Server-Sent Events </a> </li> <li class=md-nav__item> <a href=#queues class=md-nav__link> Queues </a> </li> <li class=md-nav__item> <a href=#proxy class=md-nav__link> Proxy </a> </li> <li class=md-nav__item> <a href=#load-balancing-lb class=md-nav__link> Load Balancing (LB) </a> </li> <li class=md-nav__item> <a href=#sql-vs-nosql class=md-nav__link> SQL vs. NoSQL </a> </li> <li class=md-nav__item> <a href=#redundancy-and-replication class=md-nav__link> Redundancy and Replication </a> </li> <li class=md-nav__item> <a href=#sharding-data-partitioning class=md-nav__link> Sharding (Data Partitioning) </a> </li> <li class=md-nav__item> <a href=#system-design-interviews-how-to-approach class=md-nav__link> System Design Interviews, how to approach </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>System Design Guide</h1> <h3 id=beginner-guide-to-system-design>Beginner Guide to System Design<a class=headerlink href=#beginner-guide-to-system-design title="Permanent link">&para;</a></h3> <p><br></p> <h4 id=characteristics-of-distributed-system>Characteristics of Distributed System<a class=headerlink href=#characteristics-of-distributed-system title="Permanent link">&para;</a></h4> <ul> <li>Scalability, Reliability, Availability, Efficiency, and Manageability.</li> </ul> <p><strong>Design a large system</strong></p> <ol> <li>different architectural pieces can be used</li> <li>how these pieces work with each other</li> <li>how to best utilize these pieces, what are trade-offs</li> </ol> <p><strong>Scalability</strong></p> <ul> <li>capability of a system, process, or network to grow and manage increased demand.<ul> <li>increased data vol, increased work amount, increased work load...</li> <li>ensure performance</li> </ul> </li> <li>horizontal scaling: adding more servers into pool of resources. easier and dynamical</li> <li>vertical scaling: adding more power (CPU, RAM, Storage, etc.) to existing servers. requires downtime and having an upper limit</li> </ul> <p><strong>Reliability</strong></p> <ul> <li>probability a system will fail in a given period. keeping delivering services even when some components fail.</li> <li>achieves thru redundancy, both software and data</li> <li>comes at a cost on removing single point of failure.</li> </ul> <p><strong>Availability</strong></p> <ul> <li>the time/percentage a system remains operational to perform required function.<ul> <li>when taking down, or failed, considered unavailable during that time</li> </ul> </li> <li>Reliability is availability over time</li> <li>availability - not necessarily reliable. reliable -&gt; available</li> </ul> <p><strong>Efficiency</strong></p> <ul> <li>Two standard measures of efficiency:<ul> <li>response time (latency), delay to obtain resp</li> <li>throughput (bandwidth), numb of delivery in a given time unit</li> </ul> </li> </ul> <p><strong>Serviceability or Manageability</strong></p> <ul> <li>how to operate and maintain<ul> <li>ease of diagnosing problems, ease of updating, how to operate, etc.</li> <li>auto failure detection can decrease or avoid system downtime</li> </ul> </li> </ul> <p><br></p> <h4 id=cap-theorem>CAP Theorem<a class=headerlink href=#cap-theorem title="Permanent link">&para;</a></h4> <blockquote> <p>It is impossible for distributed system to simultaneously provide more than two of: Consistency, Availability, and Partition tolerance.</p> </blockquote> <ul> <li>Consistency: all nodes see the same data at the same time<ul> <li>achieved by updating nodes before further reads</li> </ul> </li> <li>Availability: every request gets a response on success/failure; system continues function even with node failures<ul> <li>by replicating data across servers</li> </ul> </li> <li>Partition tolerance: system continues to work despite message loss or partial failure.<ul> <li>survive network failures that doesn't fail entire network</li> </ul> </li> </ul> <p><br></p> <h4 id=caching>Caching<a class=headerlink href=#caching title="Permanent link">&para;</a></h4> <ul> <li>locality of ref principle: recently request data likely accessed again</li> <li>can be at all levels in an architecture, mostly found close to front-end</li> </ul> <p><strong>App Server cache</strong></p> <ul> <li>place local storage on a request layer node</li> <li>quickly return local cached data if exists, else query db</li> <li>for the case of LB, use global caches or distributed caches</li> </ul> <p><strong>Distributed cache</strong></p> <ul> <li>cache is divided using consistent hashing function, so a node can quickly know where to look for data existence in a dist cache.</li> <li>advantage: ease of adding nodes to expand cache space</li> <li>disadvantage: missing node; sol multiple copies of data on diff nodes</li> </ul> <p><strong>Global cache</strong></p> <ul> <li>all nodes use single cache space. need a server dedicated for this. no good as # of requests inc</li> <li>two forms, on cache miss either: server fetch from DB, or request nodes fetch from DB</li> </ul> <p><strong>Content Distribution Network (CDN)</strong></p> <ul> <li>for sites serving large amounts of static media</li> <li>server does query on miss</li> <li>can use Nginx (a light w HTTP server) for your app</li> </ul> <p><strong>Cache Invalidation</strong></p> <ul> <li>data modified in DB should be invalidated in cache:</li> <li>Write-through cache: data written into cache &amp; DB at same time. (higher latency, write 2ice)</li> <li>Write-around cache: data written to DB only. When accessed, must query DB</li> <li>Write-back cache: data written to cache first, then write back to DB in an interval/cond. risk of data loss in crash of cache node</li> </ul> <p><strong>Cache eviction policies</strong></p> <ol> <li>First In First Out</li> <li>Last In First Out</li> <li>Least Recently Used</li> <li>Most Recently Used</li> <li>Least Frequently Used</li> <li>Random Replacement</li> </ol> <p><br></p> <h4 id=indexes>Indexes<a class=headerlink href=#indexes title="Permanent link">&para;</a></h4> <ul> <li>well-known DB indexing, improves queries performance<ul> <li>index on a table makes it faster to search through the table and find the rows desired</li> </ul> </li> <li>provides sorted list of data that is easily searchable by relevant info<ul> <li>index is a data structure that points to location where data lives</li> </ul> </li> <li>disadvantage: slower to add rows or updates/delete rows, because the need to update the index.<ul> <li>better read performance, worse write performance</li> <li>unnecessary indexes should be avoided/removed</li> </ul> </li> </ul> <p><br></p> <h4 id=consistent-hashing>Consistent Hashing<a class=headerlink href=#consistent-hashing title="Permanent link">&para;</a></h4> <ul> <li>Distributed Hash Table (DHT): key, value, hash function<ul> <li>index = hash_function(key)</li> </ul> </li> </ul> <p><strong>'key % n' hashing approach</strong></p> <ul> <li>drawbacks:</li> <li>not horizontally scalability. new cache host adding to system requires re-hash all existing mappings</li> <li>may not be load balanced, especially non-uniformly distributed data (some caches busy while others idle)</li> </ul> <p><strong>Consistent Hashing definition</strong></p> <ul> <li>allows distributing data across a cluster and minimize reorganization when nodes are added/removed<ul> <li>easier scale up/down caching system</li> </ul> </li> <li>when hash table resized, only k/n keys need to be remapped (k = total keys, n = total numb of servers)</li> <li>Given a list of cache servers, hash them to integers in the range</li> <li>map a key to a server - Hash it to a single integer - Move clockwise on the ring until finding the first cache it encounters - That cache is the one contains the key</li> <li>add a cache server on the ring, causing the portion of keys previously mapping to next server map to this new server, and removed from the next server</li> <li>removing a cache server on the ring, causing the keys mapping to this one mapping to next server on the ring</li> <li>Virtual replicas of the servers on the ring, enables more evenly distributed keys to each server, and remains distributed when servers being added/removed from the ring</li> </ul> <p><br></p> <h4 id=long-polling-vs-web-sockets-vs-server-sent-events>Long-Polling vs. Web Sockets vs. Server-Sent Events<a class=headerlink href=#long-polling-vs-web-sockets-vs-server-sent-events title="Permanent link">&para;</a></h4> <p>all are popular and common protocols between client and web server.</p> <p><strong>Ajax Polling</strong></p> <ul> <li>client repeatedly polls a server for data.</li> <li>client opens a connection &amp; request data from server</li> <li>request page sends requests to server at regular intervals</li> <li>server calculate resp and sends back</li> <li>client repeated 1-3 periodically to get updates from server</li> <li>problem: many requests could be empty data and creating HTTP overhead</li> </ul> <p><strong>HTTP Long-Polling</strong></p> <ul> <li>aka. "Hanging GET", client requests expected that server may not resp immediately<ul> <li>server holds client request if no data available, then sends it when it becomes available.</li> <li>client sends new request immediately follows receiving the resp, to make sure server can always push updated data to client immediately when its available.</li> <li>Long-Polling request can be timeout so new request has to be sent when previous one timeouts.</li> </ul> </li> </ul> <p><strong>Web Sockets</strong></p> <ul> <li>use handshake to establish persistent connection so both can exchange data in both direction any time.</li> <li>two-way ongoing conversation can take place b/w two machines.</li> </ul> <p><strong>Server-Sent Events (SSEs)</strong></p> <ul> <li>use a persistent long-term connection b/w client and server. Server can send data to client any time, but not client to server, which requires separate Http connection.</li> <li>best when need real-traffic from server to client or when server is generating data in a loop to be sent to client.</li> </ul> <p><br></p> <h4 id=queues>Queues<a class=headerlink href=#queues title="Permanent link">&para;</a></h4> <ul> <li>manage requests in large-scale distributed system. high performance requires different components work asynchronously thru queues.</li> <li>provide some protection from service outages and failures. retry service requests that failed</li> <li>implemented on asynchronous common protocol, client get Acknowledgement when request received, serves as a reference for the results of work when client requires it.</li> <li>open source tools like (RabbitMQ, ZeroMQ, Active MQ, &amp; BeanstalkD)</li> </ul> <p><br></p> <h4 id=proxy>Proxy<a class=headerlink href=#proxy title="Permanent link">&para;</a></h4> <ul> <li>intermediary piece of hardware/software b/w client &amp; back-end server.<ul> <li>receives requests, relays to servers</li> </ul> </li> <li>typically used to filter requests, log requests, transform requests (add/remove headers, encryption/decryption, compression).</li> <li>cache can serve lots of requests.</li> <li>coordinating requests, optimize request traffic. (ex. collapse similar data access into one "collapsed forwarding")</li> <li>particularly useful when under high load or have limited caching available (batch several requests into one)</li> </ul> <p><br></p> <h4 id=load-balancing-lb>Load Balancing (LB)<a class=headerlink href=#load-balancing-lb title="Permanent link">&para;</a></h4> <ul> <li>spread traffic across a cluster of servers<ul> <li>improves responsiveness &amp; availability of app, web, or db</li> </ul> </li> <li>keeps track of resource status<ul> <li>stop distribute to failed server immediately</li> </ul> </li> <li>sits between client &amp; server, balancing app requests<ul> <li>reduces individual server load, prevents single pt of failure</li> <li>detects bottlenecks before they happen</li> </ul> </li> </ul> <p><strong>Three places for LB</strong></p> <ol> <li>b/w user &amp; web servers</li> <li>b/w web servers &amp; internal platform layer (ex. app servers or cache servers)</li> <li>b/w internal platform layer and db</li> </ol> <p><strong>LB algorithms</strong></p> <ul> <li>Prerequisite: Health Checks: keep list of alive and healthy server. remove unresponsive servers<ul> <li>Least Connection: fewest active connections</li> <li>Least Response Time: fewest active connections &amp; lowest avg resp time</li> <li>Least bandwidth: serving least amount of traffic in Mbps</li> <li>Round Robin: cycles thru list of servers, good for equal spec servers &amp; non-persist connections</li> <li>Weighted Round Robin: each server assigned a weight (processing capacity), higher weight get new connections first and more connections</li> <li>IP Hash: calculate hash of client IP to assign server</li> </ul> </li> </ul> <p><strong>Redundant LB</strong></p> <ul> <li>multi-LB setup, each monitors health of the others, one active, one passive(s)<ul> <li>in case of active LB failure, another one takes over and becomes active one</li> </ul> </li> </ul> <p><strong>Ways to implement LB</strong></p> <ul> <li>Smart Clients:<ul> <li>client take a pool of service hosts and balances load across them</li> <li>detect failed hosts and recovered hosts, adding new hosts</li> </ul> </li> <li>Hardware LB:<ul> <li>most expensive, high performance (ex. Citrix NetScaler)</li> </ul> </li> <li>Software LB:<ul> <li>(ex. HAProxy)</li> </ul> </li> </ul> <p><br></p> <h4 id=sql-vs-nosql>SQL vs. NoSQL<a class=headerlink href=#sql-vs-nosql title="Permanent link">&para;</a></h4> <p><strong>SQL</strong></p> <ul> <li>Relational DB has predefined schemas, structured</li> <li>stores data in rows and columns, each row about one entity, columns being data points</li> </ul> <p><strong>NoSQL</strong></p> <ul> <li>Non-relational DB are unstructured, distributed, and have dynamic schema.</li> <li>Key-Value Stores:<ul> <li>data stored in an array of key-value pairs (ex. Redis, Voldemort, Dynamo)</li> </ul> </li> <li>Document Databases:<ul> <li>data stored in documents, &amp; docs are grouped together in collections</li> <li>each doc can have different structure (ex. CouchDB, MongoDB)</li> </ul> </li> <li>Wide-Column Databases:<ul> <li>column families, containers for rows.</li> <li>no need to know all columns up front, each row unnecessary same numb of columns.</li> <li>good for aanalyzing large daatasets (ex. Cassandra, HBase)</li> </ul> </li> <li>Graph Databases:<ul> <li>data relations represented in a graph</li> <li>nodes (entities), properties (entity info), &amp; lines (entities connections). (ex. Neo4J, InfiniteGraph)</li> </ul> </li> </ul> <p><strong>High level differences</strong></p> <ul> <li>Storage approach</li> <li>Schema, fixed/dynamic</li> <li>Querying</li> <li>Scalability, SQL(vertical); NoSQL(horizontal)</li> <li>Reliability or ACID Compliance (Atomicity, Consistency, Isolation, Durability). SQL still better at data reliability and transactions performance, and NoSQL sacrifice ACID compliance for performance and scalability</li> </ul> <p><strong>When to use which</strong></p> <ul> <li>SQL:</li> <li>need to ensure ACID, which reduces anomalies and protects db integrity</li> <li>data is structured and unchanging. no massive growth expected</li> <li>NoSQL:</li> <li>prevent data from being bottleneck by distributing DBs</li> <li>large volumes of data storage having little or no structure, no need to define type in advance</li> <li>use of cloud computing and storage for scaling up</li> <li>rapid development, little prep ahead of time, little downtime b/w versions</li> </ul> <p><br></p> <h4 id=redundancy-and-replication>Redundancy and Replication<a class=headerlink href=#redundancy-and-replication title="Permanent link">&para;</a></h4> <ul> <li>duplicate critical data or services to increase reliability</li> <li>remove single pt of failure, fail-overs when one instance down</li> <li>shared-nothing architecture, where each node can operate independent of one another<ul> <li>new servers can be added without conditions</li> </ul> </li> </ul> <p><br></p> <h4 id=sharding-data-partitioning>Sharding (Data Partitioning)<a class=headerlink href=#sharding-data-partitioning title="Permanent link">&para;</a></h4> <ul> <li>break up big DB into smaller parts<ul> <li>improve manageability, performance, availability, &amp; LB</li> <li>after certain scale pt, cheaper to scale horizontally (more same machines) than grow vertically (upgrade server gears)</li> </ul> </li> </ul> <p><strong>Partitioning Methods</strong></p> <ol> <li>horizontal partitioning:<ul> <li>range based sharding. best for evenly distributed ranges</li> <li>disadvantage: can lead to unbalanced servers for bad range selection</li> </ul> </li> <li>vertical partitioning:<ul> <li>divide into tables for data related to a specific feature to their own server</li> <li>disadvantage: when app grows, may need to partition feature specific DB across various servers</li> </ul> </li> <li>dictionary based partitioning:<ul> <li>loosely coupled approach</li> <li>lookup service which knows partitioning scheme, holds mapping between each tuple key to its DB server</li> </ul> </li> </ol> <p><strong>Partitioning Criteria</strong></p> <ol> <li>Key or Hash-based partitioning:<ul> <li>apply a hash function to some key attribute of the entries</li> <li>need redistribution of data when adding new DB servers</li> </ul> </li> <li>List partitioning:<ul> <li>each partition assigned list of values</li> <li>look up partition contains our key and store in its list</li> </ul> </li> <li>Round-robin partitioning:<ul> <li>ensures uniform data dist. i mod n</li> </ul> </li> <li>Composite partitioning:<ul> <li>combine above schemes.</li> <li>a consistent hashing is hash and list: hash reduces key space to a smaller size</li> </ul> </li> </ol> <p><strong>Common Problems of Sharding</strong></p> <ul> <li>operations across multiple tables or multiple rows in the same table, no longer run on the same server</li> <li>Joins and Denormalization: joins is inefficient across multiple servers. Need to denormalize the database so that previous operation requires joins can perform from a single table</li> <li>Referential integrity: foreign keys in sharded db can be difficult. need to enforce it in application code</li> <li>Rebalancing: when distribution is no longer uniform, or lots of load on one shard, either have to create more shards, or rebalance existing shards.</li> <li>these are cost of using sharding. using directory based partitioning can make rebalancing easier at the cost of increasing system complexity and creating new pt of failure.</li> </ul> <p><br></p> <h4 id=system-design-interviews-how-to-approach>System Design Interviews, how to approach<a class=headerlink href=#system-design-interviews-how-to-approach title="Permanent link">&para;</a></h4> <ul> <li>Scoping the problem<ul> <li>ask questions to understand constraints and use cases</li> </ul> </li> <li>Sketching up an abstract design<ul> <li>illustrate building blocks and relationships b/w them</li> </ul> </li> <li>Identifying &amp; addressing bottlenecks</li> <li>no absolute answers, open-ended</li> </ul> <p><strong>As a candidate</strong></p> <ul> <li>learn from existing systems<ul> <li>prepare ahead, learn based on real-life products, issues, &amp; challenges</li> <li>foster analytical ability and questioning on the problem</li> </ul> </li> <li>lead the conversation<ul> <li>communicate your idea to interviewer, your thought process, what you are considering</li> </ul> </li> <li>solve by breaking it down<ul> <li>top-down, modularize into modules, tackle each independently</li> </ul> </li> <li>deal with bottlenecks<ul> <li>talk about possible solutions to these, and trade-offs and their impacts on the sys.</li> </ul> </li> <li>try understand interviewer's intention and direction</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../How-Netflix-Works/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> How Netflix Works </div> </div> </a> <a href=../Why-Latency-Matters/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Why Latency Matters </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.53cc9318.min.js></script> <script src=../../assets/javascripts/bundle.e9c9f54f.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>