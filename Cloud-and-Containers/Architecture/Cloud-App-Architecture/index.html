<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We are all standing on the shoulders of the giants..."><meta name=author content="Zhongkai Liu"><link rel="shortcut icon" href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.6"><title>Cloud Application Architectures - Ontitansshoulder</title><link rel=stylesheet href=../../../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#architecture-styles class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title=Ontitansshoulder class="md-header-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Ontitansshoulder </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Cloud Application Architectures </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class="md-tabs__link md-tabs__link--active"> Notes </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Ontitansshoulder class="md-nav__button md-logo" aria-label=Ontitansshoulder> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Ontitansshoulder </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1 checked> <label class=md-nav__link for=nav-1> Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Notes data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Foundamentals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Foundamentals data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Foundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Foundamental/Data_Structures_and_Algos/ class=md-nav__link> Data Structures and Algos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <label class=md-nav__link for=nav-1-3> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-1 type=checkbox id=nav-1-3-1> <label class=md-nav__link for=nav-1-3-1> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=3> <label class=md-nav__title for=nav-1-3-1> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation/ class=md-nav__link> Linux Foundation </a> </li> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation_System_Admin/ class=md-nav__link> Linux System Administration </a> </li> <li class=md-nav__item> <a href=../../../Linux/Concepts/Linux_Foundation_Network_Admin/ class=md-nav__link> Linux Network Administration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-2 type=checkbox id=nav-1-3-2> <label class=md-nav__link for=nav-1-3-2> Practical References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Practical References" data-md-level=3> <label class=md-nav__title for=nav-1-3-2> <span class="md-nav__icon md-icon"></span> Practical References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Commands/Freq-Used-Shell-Cmds/ class=md-nav__link> Freq Used Shell Cmds </a> </li> <li class=md-nav__item> <a href=../../../Linux/Commands/Networking-Shell-Cmds/ class=md-nav__link> Freq Used Network Cmds </a> </li> <li class=md-nav__item> <a href=../../../Linux/Commands/Text-Manipulating-Cmds/ class=md-nav__link> Text Manipulating Cmds </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-3 type=checkbox id=nav-1-3-3> <label class=md-nav__link for=nav-1-3-3> Tricks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tricks data-md-level=3> <label class=md-nav__title for=nav-1-3-3> <span class="md-nav__icon md-icon"></span> Tricks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/References/Freq-Tasks/ class=md-nav__link> Freq Linux Tasks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Terminal-Tricks/ class=md-nav__link> Linux Terminal Tricks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Vim-Tricks/ class=md-nav__link> Vim Tricks </a> </li> <li class=md-nav__item> <a href=../../../Linux/References/Account-Administration/ class=md-nav__link> Manage Accounts & Groups </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4 checked> <label class=md-nav__link for=nav-1-4> Cloud <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cloud data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Cloud App Architecture <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Cloud App Architecture </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#architecture-styles class=md-nav__link> Architecture styles </a> <nav class=md-nav aria-label="Architecture styles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#weigh-the-tradeoffs class=md-nav__link> Weigh the tradeoffs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-styles class=md-nav__link> Common Styles </a> <nav class=md-nav aria-label="Common Styles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#n-tier class=md-nav__link> N-tier </a> </li> <li class=md-nav__item> <a href=#web-queue-worker class=md-nav__link> Web-Queue-Worker </a> </li> <li class=md-nav__item> <a href=#microservices class=md-nav__link> Microservices </a> </li> <li class=md-nav__item> <a href=#event-driven class=md-nav__link> Event-driven </a> </li> <li class=md-nav__item> <a href=#big-data class=md-nav__link> Big Data </a> </li> <li class=md-nav__item> <a href=#big-compute class=md-nav__link> Big Compute </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#design-principles class=md-nav__link> Design Principles </a> <nav class=md-nav aria-label="Design Principles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-for-self-healing class=md-nav__link> Design for self-healing </a> </li> <li class=md-nav__item> <a href=#build-redundancy-into-application class=md-nav__link> Build redundancy into application </a> </li> <li class=md-nav__item> <a href=#minimize-coordination class=md-nav__link> Minimize coordination </a> </li> <li class=md-nav__item> <a href=#design-to-scale class=md-nav__link> Design to scale </a> </li> <li class=md-nav__item> <a href=#partition-around-limits class=md-nav__link> Partition around limits </a> </li> <li class=md-nav__item> <a href=#design-operations-tools class=md-nav__link> Design operations tools </a> </li> <li class=md-nav__item> <a href=#use-managed-services class=md-nav__link> Use managed services </a> </li> <li class=md-nav__item> <a href=#use-suitable-data-store class=md-nav__link> Use suitable data store </a> </li> <li class=md-nav__item> <a href=#design-for-evolution class=md-nav__link> Design for evolution </a> </li> <li class=md-nav__item> <a href=#build-for-the-business-needs class=md-nav__link> Build for the business needs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Docker/Docker/ class=md-nav__link> Docker and Containers </a> </li> <li class=md-nav__item> <a href=../../Docker/Docker-Practical/ class=md-nav__link> Docker Practical </a> </li> <li class=md-nav__item> <a href=../../k8s/K8s-Knowledge/ class=md-nav__link> K8s Knowledge </a> </li> <li class=md-nav__item> <a href=../../k8s/service_mesh/ class=md-nav__link> Service Mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5 type=checkbox id=nav-1-5> <label class=md-nav__link for=nav-1-5> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Monitoring data-md-level=2> <label class=md-nav__title for=nav-1-5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5-1 type=checkbox id=nav-1-5-1> <label class=md-nav__link for=nav-1-5-1> Splunk <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Splunk data-md-level=3> <label class=md-nav__title for=nav-1-5-1> <span class="md-nav__icon md-icon"></span> Splunk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Dev-Tools-Reference/Splunk/Splunk-References/ class=md-nav__link> Splunk Knowledge </a> </li> <li class=md-nav__item> <a href=../../../Dev-Tools-Reference/Splunk/Splunk-Dashboarding/ class=md-nav__link> Splunk Dashboarding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6 type=checkbox id=nav-1-6> <label class=md-nav__link for=nav-1-6> Programming Langs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Programming Langs" data-md-level=2> <label class=md-nav__title for=nav-1-6> <span class="md-nav__icon md-icon"></span> Programming Langs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-1 type=checkbox id=nav-1-6-1> <label class=md-nav__link for=nav-1-6-1> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Golang data-md-level=3> <label class=md-nav__title for=nav-1-6-1> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Golang-Specs/ class=md-nav__link> Golang Language Reference </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Best-Practices/ class=md-nav__link> Effective Go </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Golang/Freq-Used-Libs/ class=md-nav__link> Go libraries and examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-2 type=checkbox id=nav-1-6-2> <label class=md-nav__link for=nav-1-6-2> Java <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Java data-md-level=3> <label class=md-nav__title for=nav-1-6-2> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Style-Guide/ class=md-nav__link> Style Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Best-Practices/ class=md-nav__link> Effective Java </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Design-Patterns/ class=md-nav__link> Java Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Testing-Design-Patterns/ class=md-nav__link> Testing Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Java/Java_Std_Lib_Cheatsheet/ class=md-nav__link> Java Std Lib Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-3 type=checkbox id=nav-1-6-3> <label class=md-nav__link for=nav-1-6-3> C++ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=C++ data-md-level=3> <label class=md-nav__title for=nav-1-6-3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/CPP/CPlusPlus_Lang_Specs/ class=md-nav__link> C++ Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-4 type=checkbox id=nav-1-6-4> <label class=md-nav__link for=nav-1-6-4> Perl <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Perl data-md-level=3> <label class=md-nav__title for=nav-1-6-4> <span class="md-nav__icon md-icon"></span> Perl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Perl/Perl-Lang-Specs/ class=md-nav__link> Perl Language Reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6-5 type=checkbox id=nav-1-6-5> <label class=md-nav__link for=nav-1-6-5> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Shell data-md-level=3> <label class=md-nav__title for=nav-1-6-5> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Shell/Shell-Scripting/ class=md-nav__link> Shell Scripting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Github-Markdown/ class=md-nav__link> Github Markdown Guide </a> </li> <li class=md-nav__item> <a href=../../../Programming-Lang-Reference/Regex-Specs/ class=md-nav__link> Regex Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-7 type=checkbox id=nav-1-7> <label class=md-nav__link for=nav-1-7> Reading Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Reading Notes" data-md-level=2> <label class=md-nav__title for=nav-1-7> <span class="md-nav__icon md-icon"></span> Reading Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Reading-Notes/How-Netflix-Works/ class=md-nav__link> How Netflix Works </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/System-Design-Concepts/ class=md-nav__link> System Design Guide </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Why-Latency-Matters/ class=md-nav__link> Why Latency Matters </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/DevOps_SRE/ class=md-nav__link> Intro to DevOps and SRE </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Leading-without-formal-authority/ class=md-nav__link> Leading Without Formal Authority </a> </li> <li class=md-nav__item> <a href=../../../Reading-Notes/Google-SRE-Book/ class=md-nav__link> Google SRE Book </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Good-Reads/ class=md-nav__link> Good Reads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#architecture-styles class=md-nav__link> Architecture styles </a> <nav class=md-nav aria-label="Architecture styles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#weigh-the-tradeoffs class=md-nav__link> Weigh the tradeoffs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-styles class=md-nav__link> Common Styles </a> <nav class=md-nav aria-label="Common Styles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#n-tier class=md-nav__link> N-tier </a> </li> <li class=md-nav__item> <a href=#web-queue-worker class=md-nav__link> Web-Queue-Worker </a> </li> <li class=md-nav__item> <a href=#microservices class=md-nav__link> Microservices </a> </li> <li class=md-nav__item> <a href=#event-driven class=md-nav__link> Event-driven </a> </li> <li class=md-nav__item> <a href=#big-data class=md-nav__link> Big Data </a> </li> <li class=md-nav__item> <a href=#big-compute class=md-nav__link> Big Compute </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#design-principles class=md-nav__link> Design Principles </a> <nav class=md-nav aria-label="Design Principles"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-for-self-healing class=md-nav__link> Design for self-healing </a> </li> <li class=md-nav__item> <a href=#build-redundancy-into-application class=md-nav__link> Build redundancy into application </a> </li> <li class=md-nav__item> <a href=#minimize-coordination class=md-nav__link> Minimize coordination </a> </li> <li class=md-nav__item> <a href=#design-to-scale class=md-nav__link> Design to scale </a> </li> <li class=md-nav__item> <a href=#partition-around-limits class=md-nav__link> Partition around limits </a> </li> <li class=md-nav__item> <a href=#design-operations-tools class=md-nav__link> Design operations tools </a> </li> <li class=md-nav__item> <a href=#use-managed-services class=md-nav__link> Use managed services </a> </li> <li class=md-nav__item> <a href=#use-suitable-data-store class=md-nav__link> Use suitable data store </a> </li> <li class=md-nav__item> <a href=#design-for-evolution class=md-nav__link> Design for evolution </a> </li> <li class=md-nav__item> <a href=#build-for-the-business-needs class=md-nav__link> Build for the business needs </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Cloud App Architecture</h1> <p>This notes is taken from <a href=https://docs.microsoft.com/en-us/azure/architecture/ target=_blank>Microsoft Azure Architecture Center</a>. These principles still apply to any cloud applications not just limited to Azure.</p> <h2 id=architecture-styles>Architecture styles<a class=headerlink href=#architecture-styles title="Permanent link">&para;</a></h2> <p>An architecture style is a family of architectures that share certain characteristics.</p> <p>An architecture style places constraints on the design, including the set of elements that can appear and the allowed relationships between those elements.</p> <p>Before choosing an architecture style, make sure that you understand the underlying principles and constraints of that style. Otherwise, you can end up with a design that conforms to the style at a superficial level, but does not achieve the full potential of that style. It's also important to be pragmatic. Sometimes it's better to relax a constraint, rather than insist on architectural purity.</p> <h3 id=weigh-the-tradeoffs>Weigh the tradeoffs<a class=headerlink href=#weigh-the-tradeoffs title="Permanent link">&para;</a></h3> <p>Constraints also create challenges, so it's important to understand the trade-offs when adopting any of these styles.</p> <p>Some main challenges to consider:</p> <ul> <li>Complexity - is the style too simplistic or too complex for your domain? Is it managable?</li> <li>Asynchronous messaging and eventual consistency - is eventual consistency guaranteed? Any possiblity for lost message or duplicated messages?</li> <li>Inter-service communication - how much overall latency will be increased from the separated components? Will there be network ingestion?</li> <li>Manageability - how hard to monitor, deploy, extend the app?</li> </ul> <h2 id=common-styles>Common Styles<a class=headerlink href=#common-styles title="Permanent link">&para;</a></h2> <h3 id=n-tier>N-tier<a class=headerlink href=#n-tier title="Permanent link">&para;</a></h3> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/n-tier-logical.svg></p> <p><strong>N-tier</strong> - a traditional architecture for enterprise apps, where dependencies are managed by dividing the application into <strong>layers</strong> that perform <strong>logical functions</strong>, such as presentation, business logic, and data access.</p> <p>Layers is a way to separate <strong>responsibilities</strong> and manage <strong>dependencies</strong>. A layer can only call into layers that <strong>sit below</strong> it, which makes it hard to introduce changes in one part of the application without touching the rest of the application.</p> <p>Tiers are <strong>physically</strong> separated, running on separate machines. A tier can call to another tier directly, or use asynchronous messaging (message queue). Several layers might be hosted on the same tier.</p> <p>Physically separating the tiers improves <strong>scalability</strong> and <strong>resiliency</strong>, but also adds <strong>latency</strong>.</p> <p>N-tier is most often seen in infrastructure as a service (IaaS) solutions.</p> <p>An N-tier application can have a <strong>closed</strong> layer architecture (a layer can only call the next layer immediately down) or an <strong>open</strong> layer architecture (a layer can call any of the layers below it).</p> <p>Benefits:</p> <ul> <li>portabilityp</li> <li>simplicity in design</li> </ul> <p>Challenges:</p> <ul> <li>largely monolithic design prevents independent deployment of features</li> </ul> <p>Best practices:</p> <ul> <li>avoid a middle layer that only does CRUD operations to data tier which adds latency</li> <li>use autoscaling to handle load changes</li> <li>use asynchronous messaging to decouple tiers</li> <li>cache semistatic data</li> <li>make database tier highly available</li> <li>place Web Application Firewall (WAF) between frontend and the Internet to block abuse</li> <li>place each tier in its subnet and use subnets as a security boundary</li> <li>restrict data tier to only middle tier</li> </ul> <h3 id=web-queue-worker>Web-Queue-Worker<a class=headerlink href=#web-queue-worker title="Permanent link">&para;</a></h3> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/web-queue-worker-logical.svg></p> <p>A <strong>Web-Queue-Worker</strong> app has a web frontend that handles HTTP <strong>requests</strong> and a backend worker that performs CPU-intensive tasks or long-running operations. The front end communicates to the worker through an <strong>asynchronous message queue</strong>.</p> <p>Other components that can be commonly incorporated:</p> <ul> <li>database</li> <li>cache</li> <li>CDN</li> <li>remote service</li> <li>identity provider for authentication</li> </ul> <p>The web frontend and worker should be <strong>stateless</strong>. Session state can be stored in a distributed cache. Any <strong>long-running</strong> or <strong>resource-intensive</strong> work is done by the worker asynchronously through active poll or periodical batch-processing, otherwise the worker is <strong>optional</strong>.</p> <p>The frontend and the worker can easily become large, monolithic components, and involves complex dependencies, which makes it hard to maintain and update.</p> <p>Benefits:</p> <ul> <li>simplicity in design, deploy, and manage</li> <li>separation of concerns</li> <li>good scalability for the decoupled componets</li> </ul> <p>Challenges:</p> <ul> <li>components can still get large and monolithic, making it hard to maintain and update</li> <li>hidden dependencies in terms of data schemas or modules for communication</li> </ul> <p>Best practices:</p> <ul> <li>expose a well-designed API to client</li> <li>use autoscaling to handle load changes</li> <li>cache semistatic data</li> <li>use a CDN to host static content</li> <li>partition data to improve scalability, reduce contention, and optimize performance</li> </ul> <h3 id=microservices>Microservices<a class=headerlink href=#microservices title="Permanent link">&para;</a></h3> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/includes/images/microservices-logical.png></p> <p>A <strong>microservice</strong> app is composed of many small, <strong>independent</strong> services. Each service implements a <strong>single</strong> business capability. Services are <strong>loosely coupled</strong>, communicating through API <strong>contracts</strong>.</p> <p>Each service can be built by a small, focused development team. Individual services can be deployed without a lot of coordination between teams, which encourages <strong>frequent updates</strong>. Services are responsible for persisting their own data or external state.</p> <p>However, this architecture is more complex to build and manage and requires a mature development and DevOps culture. Done right, this style can lead to <strong>higher release velocity, faster innovation, and a more resilient architecture</strong>.</p> <p><strong>Management/orchestration</strong> component is responsible for placing services on nodes, identifying failures, and rebalancing services across nodes. For example, Kubernetes, and certain public cloud services.</p> <p><strong>API Gateway</strong> - the entry point for clients which forwards the call to the appropriate services on the back end.</p> <p>Benefits:</p> <ul> <li>Agile development</li> <li>Small, focused teams for each service</li> <li>Small code base on each service</li> <li>Mix of technologies, some services can be built with different stacks</li> <li>Fault isolation, some services failure will not bring down the whole service</li> <li>Better scalability, independent scaling</li> <li>Data isolation, each service owns its data. But common schema changes are tricky.</li> </ul> <p>Challenges:</p> <ul> <li>Complexity, more moving parts and need to make sure they work in harmony</li> <li>Development and testing, hard to test service dependencies</li> <li>Lack of goverance, may end up with things built with different stacks and styles and making it harder to maintain and see the entire picture</li> <li>Network ingestion and latency, more components lead to more inter-service communication. Reduce unnecessary calls, use more efficient serialization formats, and switch to asynchronous communication patterns helps</li> <li>Data integrity, data consistency can become a problem as each service keeps its own state</li> <li>Management, logging and tracing, DevOps</li> <li>Versioning, potential backward or forward compatibility</li> <li>Skill set for building highly distributed systems</li> </ul> <p>Best practices:</p> <ul> <li>Decentralize as much as possible</li> <li>API should be designed around the business domain</li> <li>offload auth and SSL termination to the Gateway</li> <li>The gateway should handle and route client requests without any knowledge of the business rules or domain logic</li> </ul> <h3 id=event-driven>Event-driven<a class=headerlink href=#event-driven title="Permanent link">&para;</a></h3> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/event-driven.svg></p> <p>An application of <strong>event-driven</strong> architecture use a <strong>publish-subscribe</strong> (pub-sub) model, where <strong>producers</strong> publish events, and <strong>consumers</strong> subscribe to them. The producers are independent from the consumers, and consumers are <strong>independent</strong> from each other.</p> <p>Events are delivered in near real time, so consumers can respond immediately to events as they occur, and every consumer sees all of the events.</p> <p>This architecture is good for apps that ingest and process large volume of data with low latency, or when multiple different subsystems must perform different types of processing on the same event data. Two Event-driven architecture variations:</p> <ul> <li>The <strong>Pub/Sub</strong> model - sends published events to each subscriber and the events cannot be replayed and new subscribers do not see past events.</li> <li>The <strong>Event streaming</strong> model - writes events to a log and keeps the events strictly ordered and persistent. Consumers can read from any part of the stream and is responsible for advancing its position in the stream. A consumer can join any time and replay past events.</li> </ul> <p>Three common consumer variations:</p> <ul> <li>Simple event processing, each event immediately triggers an action</li> <li>complex event processing, the consumer processes a series of events to look for a pattern, like aggregation over sliding time windows</li> <li>event stream processing, use a pipeline to ingest events and to process or transform the stream. Good for IoT workloads.</li> </ul> <p>Benefits:</p> <ul> <li>decoupled design of producers and consumers</li> <li>easy to add or remove consumers</li> <li>consumers respond to events immediately</li> <li>highly scalable and distributed</li> <li>consumers can have independent view of the event stream</li> </ul> <p>Challenges:</p> <ul> <li>Guaranteed delivery is essential</li> <li>Process events in order or exactly once can be hard to guarantee</li> </ul> <p>Best practices:</p> <ul> <li>keep events as small as possible<ul> <li>services should really only share IDs and maybe a timestamp to indicate when the information was effective</li> </ul> </li> <li>think about which service should own which piece of data, and avoid sharing those pieces in a single giant event.</li> </ul> <p>Another great read about Event-driven design https://particular.net/blog/putting-your-events-on-a-diet and RPC's disadvantage against messaging or event-driven design https://particular.net/blog/rpc-vs-messaging-which-is-faster</p> <h3 id=big-data>Big Data<a class=headerlink href=#big-data title="Permanent link">&para;</a></h3> <p><strong>Big data</strong> and <strong>Big Compute</strong> are specialized architecture for workloads that fit certain specific profiles. </p> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/big-data-logical.svg></p> <p>Big data <strong>divides</strong> a very large dataset into chunks, performing <strong>parallel processing</strong> across the entire set, for analysis and reporting.</p> <p>It usually involves:</p> <ul> <li>Batch processing of big data stored<ul> <li>app data in relational DB, static files, logs</li> <li>source data stored in Data Lake, typically distributed storage, high volumes, various formats, include blobs (Binary Large Object)</li> <li>Map/Reduce are often used</li> <li>repeated processing operations encapsulated in workflows</li> </ul> </li> <li>Real-time processing of big data in motion<ul> <li>IoT event data</li> <li>events typically are compressed and serialized into binary format</li> <li>a message ingestion store to act as a buffer for messages is needed<ul> <li>support scale-out processing, reliable delivery, message queuing</li> </ul> </li> </ul> </li> <li>Interactive exploration of big data</li> <li>Predictive analytics and machine learning<ul> <li>data modeling layer</li> </ul> </li> </ul> <p>Benefits:</p> <ul> <li>Parallelism</li> <li>Elastic scale, scale up both borizontally and vertically on the components as needed</li> <li>Interoperability and extensibility, new workload can integrate into existing solutions</li> </ul> <p>Challenges:</p> <ul> <li>Complex to build and configure for each system in the picture</li> <li>Skillset is specialized, many frameworks and languages are not used in general application architectures</li> <li>Evolving technology, some are still evolving fast and introduce big changes across releases</li> <li>Security, properly govering data access</li> </ul> <p>Best practices:</p> <ul> <li>partition the data to reduce ingestion</li> <li>apply schema-on-read semantics, which project a schema onto the data when the data is processing, not when the data is stored. It is less likely to cause slow downs from bottlenecks such as validation and type checking.</li> <li>adjust the parallelism for the best balance in utilization costs and time</li> <li>scrub sensitive data early in the data pipeline</li> </ul> <h3 id=big-compute>Big Compute<a class=headerlink href=#big-compute title="Permanent link">&para;</a></h3> <p><img src=https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/big-compute-logical.png></p> <p><strong>Big compute</strong>, aka high-performance computing (HPC), makes <strong>parallel computations</strong> across a large number (thousands) of <strong>cores</strong>, mostly used on simulations, modeling, rendering, or any jobs that requires too much memory to fit on single machine.</p> <p>The work must be able to split into discrete tasks, and each task is finite. The application can be spun up ad-hoc.</p> <p>For tightly coupled tasks, high-speed networking is required for exchanging intermediate results fast.</p> <p>Challenges:</p> <ul> <li>Manage VM infrastructure</li> <li>Provision thousands of cores timely</li> <li>Experiment to find optimum number of cores, parallelism, and cost</li> </ul> <h2 id=design-principles>Design Principles<a class=headerlink href=#design-principles title="Permanent link">&para;</a></h2> <h3 id=design-for-self-healing>Design for self-healing<a class=headerlink href=#design-for-self-healing title="Permanent link">&para;</a></h3> <p>A three-pronged approach:</p> <ul> <li>Detect failures</li> <li>Respond to failures gracefully</li> <li>Log and monitor failures to give operational insight</li> </ul> <p>Recommendations:</p> <ul> <li><strong>Retry</strong> failed operations for transient failures</li> <li>Protect failing remote services via <strong>circuit breaker</strong> for persistent failures to prevent overwhelming retries causing cascading failures</li> <li><strong>Isolate critical resources</strong>, partition a system into isolated groups, so that a failure in one partition does not bring down the entire system</li> <li>Perform <strong>load leveling</strong>, use a queue-based load leveling pattern to queue work items to run asynchronously and prevent sudden spikes take down the entire system</li> <li><strong>Fail over</strong> to backup region or cluster. For stateless services, put instances behind a load balancer. For stateful services, use replicas for fail over (and handle eventual consistentcy).</li> <li><strong>Compensate failed transactions</strong>, compose an operation from smaller individual transactions. Rewind back if the operation fails midway through.</li> <li><strong>Checkpoint long-running transactions</strong>, allow the operation resume from last checkpoint in event of a failure.</li> <li><strong>Degrade gracefully</strong>, provide reduced functionality when the primary function is broken.</li> <li><strong>Throttle bad clients</strong>, throttle clients making excessive load abusively</li> <li><strong>Block bad actors</strong>, define out-of-band process to detect bad clients and block their access for some period of time</li> <li><strong>Leader election</strong> on coordinators to avoid single-point-failure</li> <li><strong>Perform fault injection tests</strong>, test the resiliency of the system responding possible failure-scenarios either by triggering actual failures or simulate them</li> <li><strong>Chaos engineering</strong> by randomly injecting failure conditions into production instances</li> </ul> <h3 id=build-redundancy-into-application>Build redundancy into application<a class=headerlink href=#build-redundancy-into-application title="Permanent link">&para;</a></h3> <p>Identify the critical paths in your application. Is there redundancy at each point in the path? When a subsystem fails, will the application fail over to something else?</p> <p>Recommendations:</p> <ul> <li>Weigh the cost increase, the complexity, and operational procedures introduced from the amount of redundancy built into a system and decided if it justify the business scenario</li> <li>Put multiple VMs behind the <strong>load balancer</strong>.</li> <li><strong>Replicate databases across regions</strong> to have quick fail over. Document fail over procedures or implement the observability layer to do so promptly</li> <li><strong>Partition</strong> for availability. If one shard goes down, the other shards can still be reached.</li> <li><strong>Deploy to multiple regions</strong> for higher availability.</li> <li><strong>Synchronize frontend, backend, and database failover</strong>. Depending on the system, the backup region may require the whole stack to be failover to function properly.</li> <li><strong>Use automatic failover but manual failback</strong>. Involve engineers to verify that all application subsystems are healthy before manually failing back. Also check dta consistency before failing back.</li> <li><strong>Redundancy for Traffic Manager</strong>, as it is a possible failure point.</li> </ul> <h3 id=minimize-coordination>Minimize coordination<a class=headerlink href=#minimize-coordination title="Permanent link">&para;</a></h3> <p>Most cloud apps runs multiple instances for scalability and reliability. When several instances try to perform concurrent operations that affect a shared state, there must be coordination across these instances.</p> <p>Coordination through locks creates performance bottlenecks, and as more instances are scaled up, the lock contention increases. A better approach is to partition the work space from number of workers, each worker only affects its assigned portion.</p> <p>Recommendataions:</p> <ul> <li>Embrace <strong>eventual consistency</strong>. The Compensating Transaction pattern can be used to incrementally apply transactions and roll back everything when necessary.</li> <li>Use <strong>domain events</strong> to synchronize state. Domain event is an event that has significance within the domain. Interested services can listen for the event and act accordingly, rather than relying on coordination.</li> <li><strong>Partition data</strong> into shards</li> <li>Design <strong>idempotent</strong> operations so they can be handled with at-least-once semantics and making it easy to retry upon failures and crashes</li> <li>Use <strong>optimistic concurrency</strong> when possible. Pessimistic concurrency control uses database locks to prevent conflicts. Optimistic concurrency let each transaction modifies a copy or snapshot of the data, and have database engine validate the committed transaction and rejects others that breaks database consistency.</li> </ul> <h3 id=design-to-scale>Design to scale<a class=headerlink href=#design-to-scale title="Permanent link">&para;</a></h3> <p>Design your application so that it can scale horizontally and quickly, adding or removing new instances as demand requires.</p> <p>Recommendations:</p> <ul> <li>Avoid instance <strong>stickiness/affinity</strong>, or when requests from the same client are always routed to the same server. Traffic from a high-volume user will not be distributed across instances.</li> <li>Identify <strong>bottlenecks</strong> and resolve them first before scaling up. Stateful parts of the system are the most likely cause of bottlenecks.</li> <li><strong>Offload resource-intensive tasks</strong> as offline jobs or asynchronously handled workloads if possible, to easy the laod on the frontend.</li> <li><strong>Graceful scale down</strong>, instances being removed should handle the termination gracefully and clean up its states.<ul> <li>listen for shutdown events</li> <li>clients should support transient fault handling and retries, in the event its remote origin gets terminated</li> <li>set breaking points for long-running tasks to be stopped and resumed</li> <li>put work items on a queue so another instance can pick up the work</li> </ul> </li> </ul> <h3 id=partition-around-limits>Partition around limits<a class=headerlink href=#partition-around-limits title="Permanent link">&para;</a></h3> <p>In the cloud services have limits in their ability to scale up, such as number of cores, memory available, database size, query throughput, and network throughput. Use partition to work around these limits.</p> <ul> <li>partition a database to avoid limits on database size, data I/O, number of concurrent sessions.</li> <li>partition a queue or message bus to avoid limits on number of requests or the number of concurrent connections.</li> <li>partition an App Service web app to avoid limits on the number of instances per App Service plan.</li> </ul> <p>A database partition can be:</p> <ul> <li>horizontally - aka sharding, each partition holds data for a subset of the total data set. The partitions share the same data schema.</li> <li>vertically - each partition holds a subset of the fields for the items in the data store</li> <li>functionally - data is partitioned according to how it is used by each bounded context in the system, and the schemas are independent.</li> </ul> <p>Recommendataions:</p> <ul> <li>Besides database, consider also partition storage, cache, queues, and compute instances</li> <li>Design the partition key to avoid hotspots. Refer to consistent hashing, sharding</li> <li>When it is possible to partition at multiple layers, it is easier to partition lower layers first in the hierarchy.</li> </ul> <h3 id=design-operations-tools>Design operations tools<a class=headerlink href=#design-operations-tools title="Permanent link">&para;</a></h3> <p>Some important operations functions for cloud applications:</p> <ul> <li>Deployment</li> <li>Logging and tracing</li> <li>Monitoring</li> <li>Escalation</li> <li>Incident response</li> <li>Security auditing</li> </ul> <p>Recommendataions:</p> <ul> <li>Make all things <strong>observable</strong>. Logging captures individual events, app states, errors, exceptions. Tracing records a path through the system and is useful to pinpoint bottlenecks, performance issues, and failure points.</li> <li>Instrument for <strong>monitoring</strong>, it should be as close to real-time as possible to discover issues that breach SLA</li> <li>Instrument for root cause analysis</li> <li>Use distributed tracing. Traces should include a <strong>correlation ID</strong> that flows across service boundaries</li> <li><strong>Standardize</strong> logs and metrics. Define a common schema that can be derived to add custom fields, but all logs should be capable for tracing and aggregation.</li> <li>Treat configuration as code. Check configuration files into a version control system.</li> </ul> <h3 id=use-managed-services>Use managed services<a class=headerlink href=#use-managed-services title="Permanent link">&para;</a></h3> <p>IaaS is like having a box of parts. You can build anything, but you have to assemble it yourself. PaaS options are easier to configure and administer. You are delegating some <strong>operational responsibility</strong> to a more focused team that manages it for everyone else.</p> <h3 id=use-suitable-data-store>Use suitable data store<a class=headerlink href=#use-suitable-data-store title="Permanent link">&para;</a></h3> <p>In any large solution, it's likely that a single data store technology won't fill all your needs. Alternatives to relational databases include key/value stores, document databases, search engine databases, time series databases, column family databases, and graph databases.</p> <p>Embrace <strong>polyglot persistence</strong> and put different types of data into the storage that best fit its type. For example, put transactional data into SQL, put JSON documents into a document database, put telemetry data into a time series data base, put application logs in Elasticsearch, and put blobs in HBase or other blob storage.</p> <p>Recommendations:</p> <ul> <li>Prefer availability over (strong) consistency. Achieve higher availability by adopting an eventual consistency model.</li> <li>Consider the skillset of the development team. To adopt a new data storage technology, the development team must learn and understand appropriate usage patterns, how to optimize queries, tune for performance, and so on to get the most out of it.</li> <li>Use <strong>compsensating transactions</strong> to undo any completed steps in a failed transaction.</li> <li>Look at <strong>bounded contexts</strong>. A bounded context is an explicit boundary around a domain model, and defines which parts of the domain the model applies to. A bounded context maps to a subdomain of the business domain. The bounded contexts in your system are a natural place to consider polyglot persistence.</li> </ul> <h3 id=design-for-evolution>Design for evolution<a class=headerlink href=#design-for-evolution title="Permanent link">&para;</a></h3> <p>All successful applications change over time, whether to fix bugs, add new features, bring in new technologies, replace existing components, or make existing systems more scalable and resilient.</p> <p>Recommendations:</p> <ul> <li>Enforce high cohesion and loose coupling. If you find that updating a service requires coordinated updates to other services, it may be a sign that your services are not cohesive.<ul> <li>a service is cohesive if it groups functionalities that logically belongs together</li> <li>loosely coupled services allows changing one without affect another</li> </ul> </li> <li>Use asynchronous messaging, it is effective in creating loosely coupled systems</li> <li><strong>Expose open interfaces</strong>. A service should expose an API with a well-defined API contract, and avoid creating custom translation layers that sit between services. The API should be versioned for maintaining backward compatibility. Public facing services should expose a RESTful API over HTTP. Backend services might use an RPC-style messaging protocol for performance reasons.</li> <li>Design and test against service contracts. When services expose well-defined APIs, you can develop and test against those APIs. </li> <li>Abstract infrastructure away from domain logic. Don't let domain logic get mixed up with infrastructure-related functionality, such as messaging or persistence.</li> <li>Offload shared functionality to a separate service, which allows it getting evloved independently.</li> <li>Deploy services independently. Updates can happen more quickly and safely.</li> </ul> <h3 id=build-for-the-business-needs>Build for the business needs<a class=headerlink href=#build-for-the-business-needs title="Permanent link">&para;</a></h3> <p>Ultimately, every design decision must be justified by a business requirement. Do you anticipate millions of users, or a few thousand? Is a one-hour application outage acceptable? Do you expect large bursts in traffic or a predictable workload? so on</p> <p>Recommendations:</p> <ul> <li>Define <strong>business objectives</strong>, including the recovery time objective (RTO), recovery point objective (RPO), and maximum tolerable outage (MTO). These numbers should inform decisions about the architecture.</li> <li>Document <strong>service level agreements</strong> (SLA) and <strong>service level objectives</strong> (SLO). It is a business decision to set these numbers to define how reliable the system must be built for.</li> <li>Model the <strong>application around the business domain</strong>. Analyzing the business requirements. Consider using a domain-driven design (DDD) approach to create domain models that reflect the business processes and use cases.</li> <li>Capture both <strong>functional and nonfunctional requirements</strong>. Functional requirements let you judge whether the application does the <em>right thing</em>. Nonfunctional requirements let you judge whether the application does those <em>things well</em>. Understand your requirements for scalability, availability, and latency</li> <li><strong>Plan for growth</strong>. A solution might meet your current needs, in terms of number of users, volume of transactions, data storage, and so forth. A robust application can handle growth without major architectural changes.</li> <li><strong>Manage costs</strong>. Traditional on-premises application pays upfront for hardware as a capital expense. In a cloud application, you pay for the resources that you consume so understand the pricing model for the services that you consume. Also consider your operations costs.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../../Linux/References/Account-Administration/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Manage Accounts & Groups </div> </div> </a> <a href=../../Docker/Docker/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Docker and Containers </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.53cc9318.min.js></script> <script src=../../../assets/javascripts/bundle.e9c9f54f.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>